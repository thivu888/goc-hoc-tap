(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{111:function(e,t,s){},112:function(e,t,s){},113:function(e,t,s){},140:function(e,t,s){},141:function(e,t,s){},154:function(e,t,s){},186:function(e,t,s){},190:function(e,t,s){},191:function(e,t,s){},192:function(e,t,s){},193:function(e,t,s){},194:function(e,t,s){},195:function(e,t,s){},196:function(e,t,s){},197:function(e,t,s){"use strict";s.r(t);var c=s(1),i=s.n(c),n=s(30),r=s.n(n),a=(s(111),s(2)),l=(s(112),s(10)),o=s(14),d=s(20),j=s(7),b=(s(113),s(5)),x=s.n(b),p=s(8),u=s(9),h=s(11),m=s.n(h),f=s(3),O=Object(f.b)({key:"user",default:{user:null}}),g=Object(f.b)({key:"listMessUser",default:[]}),y=Object(f.b)({key:"listuser",default:[]}),v=O,w=Object(f.b)({key:"StoryData",default:[]}),N=Object(f.b)({key:"NotifyData",default:[]}),k=Object(f.b)({key:"ListRequestAddFriendSent",default:[]}),C=Object(f.b)({key:"ListRequestAddFriend",default:[]}),A=Object(f.b)({key:"Friends",default:[]}),S=Object(f.b)({key:"ErrorLogin",default:""}),R=function(){var e=Object(o.g)(),t=Object(f.c)(v),s=Object(a.a)(t,2),c=(s[0],s[1]),i=Object(f.c)(g),n=Object(a.a)(i,2),r=(n[0],n[1]),l=Object(f.c)(w),d=Object(a.a)(l,2),j=(d[0],d[1]),b=Object(f.c)(N),h=Object(a.a)(b,2),O=(h[0],h[1]),y=Object(f.c)(C),R=Object(a.a)(y,2),L=(R[0],R[1]),_=Object(f.c)(k),W=Object(a.a)(_,2),I=(W[0],W[1]),B=Object(f.c)(A),M=Object(a.a)(B,2),H=(M[0],M[1]),T=Object(f.c)(S),F=Object(a.a)(T,2),z=(F[0],F[1]),U=function(){var e=Object(u.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return localStorage.getItem("token_user")?m.a.defaults.headers.common.Authorization=localStorage.getItem("token_user"):delete m.a.defaults.headers.common.Authorization,e.prev=1,e.next=4,m.a.get("/api/user");case 4:(t=e.sent).data.success&&(c({user:t.data.user}),O(Object(p.a)(t.data.user.notify)),L(Object(p.a)(t.data.user.RequestAddfriend)),I(Object(p.a)(t.data.user.RequestAddfriendSent)),H(Object(p.a)(t.data.user.friends)),z("")),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(1),console.log("loi khi get user"),c({user:null}),localStorage.removeItem("token_user");case 13:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),P=function(){var t=Object(u.a)(x.a.mark((function t(s){var c;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,m.a.post("/api/user/login",s);case 3:(c=t.sent).data.success&&(e.push("/"),localStorage.setItem("token_user",c.data.accesstoken),U()),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),z("c\xf3 v\u1ea5n \u0111\u1ec1 v\u1ec1 t\xe0i kho\u1ea3n v\xe0 m\u1eadt kh\u1ea9u,vui l\xf2ng \u0111\u0103ng nh\u1eadp l\u1ea1i");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}(),E=function(){var e=Object(u.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.removeItem("token_user"),window.location.reload();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=Object(u.a)(x.a.mark((function e(t){var s;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.post("/api/user/register",t);case 3:(s=e.sent).data.success&&(localStorage.setItem("token_user",s.data.accesstoken),U()),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return{loadUser:U,login:P,register:D,logout:E,getUserById:function(){var e=Object(u.a)(x.a.mark((function e(t){var s;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.get("/api/user/getuserbyid/".concat(t));case 3:if(!(s=e.sent).data.success){e.next=6;break}return e.abrupt("return",s.data.user);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),getListMess:function(){var e=Object(u.a)(x.a.mark((function e(t){var s;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.get("api/user/getlistmess/".concat(t));case 3:(s=e.sent).data.success&&r(Object(p.a)(s.data.list)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),createStory:function(){var e=Object(u.a)(x.a.mark((function e(t){var s;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.post("/api/story/create",t,{headers:{"content-type":"multipart/form-data"}});case 3:(s=e.sent).data.success&&j(Object(p.a)(s.data.story)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),getStorys:function(){var e=Object(u.a)(x.a.mark((function e(t){var s;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.get("/api/story");case 3:(s=e.sent).data.success&&(console.log(s.data.storys),j(Object(p.a)(s.data.storys))),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}},L=s(213),_=s(0);function W(){var e=Object(f.d)(v),t=Object(f.c)(S),s=Object(a.a)(t,2),i=s[0],n=s[1],r=Object(c.useState)({email:"",password:""}),b=Object(a.a)(r,2),x=b[0],p=b[1],u=Object(c.useState)(!1),h=Object(a.a)(u,2),m=(h[0],h[1],Object(c.useState)(!1)),O=Object(a.a)(m,2),g=O[0],y=O[1],w=R().login,N=function(e){var t=e.target.name,s=e.target.value;p(Object(j.a)(Object(j.a)({},x),{},Object(d.a)({},t,s))),n("")};return e.user?Object(_.jsx)(o.a,{to:"/"}):Object(_.jsx)("div",{className:"login",children:Object(_.jsxs)("div",{className:"loginWrapper",children:[Object(_.jsxs)("div",{className:"loginLeft",children:[Object(_.jsx)("h3",{className:"loginLogo",children:"GocHocTap"}),Object(_.jsx)("span",{className:"loginDesc",children:"Connect with friends and the world around you on GocHocTap."})]}),Object(_.jsx)("div",{className:"loginRight",children:Object(_.jsxs)("form",{className:"loginBox",onSubmit:function(e){e.preventDefault(),y(!0),w(x),y(!1)},children:[Object(_.jsx)("input",{placeholder:"Email",type:"email",required:!0,className:"loginInput",onChange:N,value:x.email,name:"email"}),Object(_.jsx)("input",{placeholder:"Password",type:"password",required:!0,minLength:"6",className:"loginInput",onChange:N,value:x.password,name:"password"}),i?Object(_.jsx)("span",{children:i}):null,Object(_.jsx)("button",{className:"loginButton",type:"submit",disabled:g,children:g?Object(_.jsx)(L.a,{color:"white",size:"20px"}):"Log In"}),Object(_.jsx)(l.b,{to:"/forgot",children:Object(_.jsx)("span",{className:"loginForgot",children:"Forgot Password?"})}),Object(_.jsx)(l.b,{to:"/register",children:Object(_.jsx)("button",{className:"loginRegisterButton",children:g?Object(_.jsx)(L.a,{color:"white",size:"20px"}):"Create a New Account"})})]})})]})})}s(140);function I(){var e=R().register,t=Object(c.useRef)(),s=Object(c.useRef)(),i=Object(c.useRef)(),n=Object(c.useRef)(),r=Object(o.g)(),a=function(){var c=Object(u.a)(x.a.mark((function c(a){var l;return x.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(a.preventDefault(),n.current.value!==i.current.value)n.current.setCustomValidity("Passwords don't match!");else{l={name:t.current.value,email:s.current.value,password:i.current.value};try{e(l),r.push("/login")}catch(o){console.log(o)}}case 2:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}();return Object(_.jsx)("div",{className:"login",children:Object(_.jsxs)("div",{className:"loginWrapper",children:[Object(_.jsxs)("div",{className:"loginLeft",children:[Object(_.jsx)("h3",{className:"loginLogo",children:"GocHocTap"}),Object(_.jsx)("span",{className:"loginDesc",children:"Connect with friends and the world around you on GocHocTap."})]}),Object(_.jsx)("div",{className:"loginRight",children:Object(_.jsxs)("form",{className:"loginBox",onSubmit:a,children:[Object(_.jsx)("input",{placeholder:"Username",required:!0,ref:t,className:"loginInput"}),Object(_.jsx)("input",{placeholder:"Email",required:!0,ref:s,className:"loginInput",type:"email"}),Object(_.jsx)("input",{placeholder:"Password",required:!0,ref:i,className:"loginInput",type:"password",minLength:"6",onInput:function(){return n.current.setCustomValidity("")}}),Object(_.jsx)("input",{placeholder:"Password Again",required:!0,ref:n,className:"loginInput",type:"password",onInput:function(){return n.current.setCustomValidity("")}}),Object(_.jsx)("button",{className:"loginButton",type:"submit",children:"Sign Up"}),Object(_.jsx)(l.b,{to:"/login",children:Object(_.jsx)("button",{className:"loginRegisterButton",children:"Log into Account"})})]})})]})})}s(56),s(141);var B=s(97),M=s.n(B),H=(s(80),function(e){var t=e.item,s=Object(c.useState)(null),i=Object(a.a)(s,2),n=i[0],r=i[1],l=R().getUserById;return Object(c.useEffect)((function(){l(t.user).then((function(e){return r(e)}))}),[t.user]),Object(_.jsxs)("div",{className:"story-item",children:[Object(_.jsx)("img",{className:"story-item-avt",src:n&&n.profilePicture}),Object(_.jsx)("img",{className:"story-item-img",style:{objectFit:"cover",width:"100%"},src:t.url}),Object(_.jsx)("span",{className:"story-item-name",style:{wordBreak:"break-word"},children:n&&n.username})]})}),T=function(){var e=Object(f.d)(v);return Object(_.jsx)(l.b,{to:"/stories/create",children:Object(_.jsxs)("div",{className:"story-item",children:[Object(_.jsx)("img",{className:"story-item-avt-create",src:e.user.profilePicture}),Object(_.jsx)("div",{style:{height:"150px"},children:Object(_.jsx)("img",{className:"story-item-img-create",style:{height:"150px",width:"100%",objectFit:"cover"},src:e.user.profilePicture})}),Object(_.jsxs)("div",{className:" d-flex flex-column justify-content-center",style:{width:"100%",height:"50px",backgroundColor:"#ffffff",color:"#000"},children:[Object(_.jsxs)("div",{style:{left:"52px",top:"130px",position:"absolute",width:"40px",height:"40px",borderRadius:"50%",border:"3px solid #ffffff",backgroundColor:"#1876f2"},children:[" ",Object(_.jsx)("i",{className:"eqw12 mt-1"})]}),Object(_.jsx)("span",{className:"mt-3",style:{float:"inline-end",color:"#050505",fontWeight:"600",fontSize:"14px"},children:"T\u1ea1o tin"})]})]})})},F=function(){var e=Object(f.d)(w);return Object(_.jsx)("div",{className:"row",children:Object(_.jsx)("div",{style:{width:"100%"},children:Object(_.jsxs)(M.a,{responsive:{superLargeDesktop:{breakpoint:{max:4e3,min:3e3},items:5},desktop:{breakpoint:{max:3e3,min:1024},items:5},tablet:{breakpoint:{max:1024,min:464},items:5},mobile:{breakpoint:{max:464,min:0},items:3}},itemClass:"col",swipeable:!0,draggable:!0,ssr:!0,children:[Object(_.jsx)(T,{}),e.length>0?e.map((function(e){return Object(_.jsx)(H,{item:e},e._id)})):null]})})})},z=(s(154),s(105)),U=s(17),P=s.n(U),E=Object(f.b)({key:"postdata",default:[]}),D=s(35),q=s.n(D),Z=function(e){var t=e.setoverlay,s=e.setShowAlertCreated,i=e.setShowAlert,n=e.socket,r=Object(f.c)(E),l=Object(a.a)(r,2),o=(l[0],l[1],Object(f.d)(v)),d=Object(c.useState)(null),j=Object(a.a)(d,2),b=j[0],p=j[1],h=Object(c.useState)(null),O=Object(a.a)(h,2),g=O[0],y=O[1],w=Object(c.useState)(""),N=Object(a.a)(w,2),k=N[0],C=N[1],A=Object(c.useState)(!1),S=Object(a.a)(A,2),R=S[0],L=(S[1],function(){var e=Object(u.a)(x.a.mark((function e(){var c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=new FormData,b&&c.append("img",b),g&&c.append("video",g),k&&c.append("content",k),t(!1),i(!0),y(null),p(null),C(""),e.next=11,m.a.post("/api/post",c,{headers:{"content-type":"multipart/form-data"}});case 11:e.sent,n.emit("create-post"),i(!1),s(!0),setTimeout((function(){s(!1)}),2e3);case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}());return Object(_.jsx)(_.Fragment,{children:Object(_.jsxs)("div",{className:"container create-status-wrap",children:[R?Object(_.jsx)("div",{style:{position:"absolute",top:"10px",left:"200px"},children:Object(_.jsx)(z.a,{color:"#be97e8"})}):null,Object(_.jsxs)("div",{className:"d-flex align-items-center mt-3 p-2",style:{cursor:"pointer"},children:[Object(_.jsx)("img",{style:{width:"40px",height:"40px",borderRadius:"50%"},src:o.user&&o.user.profilePicture}),Object(_.jsx)("div",{className:"ml-2 p-2 qwert",style:{width:"90%",borderRadius:"24px",height:"40px"},children:Object(_.jsx)("input",{className:"ml-2",style:{float:"left",color:"#65676b",fontSize:"18px",height:"100%",outline:"none",border:"none",width:"100%",backgroundColor:"transparent"},placeholder:"".concat(o.user&&o.user.username,",b\u1ea1n \u0111ang ngh\u0129 g\xec th\u1ebf?"),value:k,onFocus:function(){return t(!0)},onInput:function(e){return C(e.target.value)}})})]}),b||g?Object(_.jsxs)(_.Fragment,{children:[" ",Object(_.jsxs)("div",{style:{borderTop:"1px solid #e4e6eb"},className:"mt-1 mb-1 cursor-pointer",children:[b?Object(_.jsxs)("div",{style:{position:"relative"},children:[Object(_.jsx)("img",{style:{objectFit:"cover",width:"100%",display:"inline-block"},src:URL.createObjectURL(b)}),Object(_.jsx)("div",{onClick:function(){return p(null)},style:{position:"absolute",top:"10px",right:"10px"},children:Object(_.jsx)(P.a,{})})]}):null,g?Object(_.jsxs)("div",{style:{borderTop:"1px solid #e4e6eb",position:"relative"},children:[Object(_.jsx)("video",{style:{width:"100%"},children:Object(_.jsx)("source",{src:URL.createObjectURL(g),type:"video/mp4"})}),Object(_.jsx)("div",{onClick:function(){return y(null)},style:{position:"absolute",top:"10px",right:"10px"},children:Object(_.jsx)(P.a,{})})]}):null]})]}):null,Object(_.jsxs)("div",{className:"mt-3 d-flex align-items-center",style:{borderTop:"1px solid #e4e6eb",width:"100%",height:"40px",margin:"auto"},children:[Object(_.jsxs)("div",{className:"d-flex justify-content-around jqwgj pt-2 pb-2 mt-2",style:{flex:"1",cursor:"pointer"},children:[Object(_.jsx)("i",{className:"icon-video"}),Object(_.jsx)("span",{className:"mr-4",style:{color:"#65676b",fontSize:".9375rem",fontWeight:"600"},children:"Video tr\u1ef1c ti\u1ebfp"})]}),Object(_.jsxs)("div",{className:"d-flex justify-content-around jqwgj pt-2 pb-2 mt-2",style:{flex:"1",cursor:"pointer",width:"80%"},children:[Object(_.jsxs)("label",{className:"d-flex justify-content-around cursor-pointer",style:{margin:"0",padding:"0"},htmlFor:"input-img-video",children:[Object(_.jsx)("i",{className:"icon-img"}),Object(_.jsx)("span",{className:"mr-5",style:{color:"#65676b",fontSize:".9375rem",fontWeight:"600"},children:"\u1ea2nh/Video"})]}),Object(_.jsx)("input",{type:"file",name:"file",className:"hidden-element",id:"input-img-video",accept:"image/*,audio/*,video/*",onChange:function(e){var t=e.target.files[0];t&&(t.type.includes("image")&&p(t),t.type.includes("video")&&y(t))}})]}),Object(_.jsxs)("div",{className:"d-flex justify-content-around jqwgj pt-2 pb-2 mt-2",style:{flex:"1",cursor:"pointer"},children:[Object(_.jsx)("i",{className:"icon-state"}),Object(_.jsx)("span",{style:{color:"#65676b",fontSize:".9375rem",fontWeight:"600"},children:"C\u1ea3m x\xfac/Ho\u1ea1t \u0111\u1ed9ng"})]})]}),Object(_.jsx)("div",{className:"mt-2 p-3",style:{borderTop:"1px solid #e4e6eb"},onClick:L,children:Object(_.jsx)("div",{className:"cursor-pointer p-2",style:{margin:"auto",borderRadius:"8px",backgroundColor:"#1877f2",color:"white",width:"80%"},children:"\u0110\u0103ng"})})]})})},V=s(40),Y=s(39),G=s.n(Y),K=Object(f.b)({key:"filecomment",default:null}),X=Object(f.b)({key:"filecommentRep",default:null}),J=function(e){var t=e.imgsize,s=e.currentUser,i=e.post,n=e.socket,r=e.setdisplaycmt,l=(e.rep,e.comment_Id,Object(c.useState)("")),o=Object(a.a)(l,2),d=o[0],b=o[1],p=Object(f.c)(K),h=Object(a.a)(p,2),O=h[0],g=h[1],y=Object(f.c)(X),v=Object(a.a)(y,2),w=(v[0],v[1],Object(c.useState)(!1)),N=Object(a.a)(w,2),k=N[0],C=N[1],A=function(){var e=Object(u.a)(x.a.mark((function e(t){var c,a,l;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=new FormData,13!=t.charCode){e.next=13;break}if(a={content:d,userId:s._id,room:i.postId.toString(),repcomment:[],createAt:new Date(Date.now()),comment_Id:Math.random().toString(36).substring(2)+Math.random().toString(36).substring(2),UserCreator:i.userId},!O){e.next=9;break}return c.append("file",O),e.next=7,m.a.post("/api/post/filecomment",c,{headers:{"content-type":"multipart/form-data"}});case 7:l=e.sent,a.filecomment=Object(j.a)({},l.data);case 9:n.emit("sendComment",a),r(!0),b(""),g(null);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsxs)("div",{className:"d-flex align-items-center mt-3 mb-3",style:{cursor:"pointer"},children:[Object(_.jsx)("div",{className:"dot-afas",children:Object(_.jsx)("img",{style:{width:t||"32px",height:t||"32px",borderRadius:"50%"},src:s&&s.profilePicture})}),Object(_.jsx)("div",{className:"ml-2  qwert",style:{width:"90%",borderRadius:"24px",height:"32px"},children:Object(_.jsxs)("div",{className:"d-flex",style:{height:"100%",borderRadius:"24px",width:"100%"},children:[Object(_.jsx)("input",{value:d,name:"content",className:"p-2",style:{flex:"3",outline:"none",height:"100%",borderRadius:"24px",border:"none",backgroundColor:"transparent"},type:"text",placeholder:"Vi\u1ebft b\xecnh lu\u1eadn",onChange:function(e){e.target.name;var t=e.target.value;b(t)},onKeyPress:A}),Object(_.jsxs)("ul",{className:"d-flex justify-content-around align-items-center p-2 pt-3",style:{margin:"0",height:"100%",flex:"1"},children:[Object(_.jsxs)("li",{style:{position:"relative"},onClick:function(){return C(!k)},children:[Object(_.jsx)("span",{style:{lineHeight:"32px"},className:"icon-feel-cmt ic"}),k?Object(_.jsx)("div",{style:{position:"absolute",top:"-335px",right:"2px"},children:Object(_.jsx)(G.a,{onEmojiClick:function(e,t){b(d+t.emoji)}})}):null]}),Object(_.jsxs)("li",{children:[Object(_.jsx)("label",{style:{margin:"0",cursor:"pointer"},htmlFor:"hinh-anh111",children:Object(_.jsx)("span",{style:{lineHeight:"32px"},className:"icon-img-cmt ic"})}),Object(_.jsx)("input",{onChange:function(e){var t=e.target.files[0];g(t||null)},name:"file",id:"hinh-anh111",style:{display:"none"},accept:"video/*,  video/x-m4v, video/webm, video/x-ms-wmv, video/x-msvideo, video/3gpp, video/flv, video/x-flv, video/mp4, video/quicktime, video/mpeg, video/ogv, .ts, .mkv, image/*, image/heic, image/heif",class:"mkhogb32",type:"file"})]}),Object(_.jsx)("li",{children:Object(_.jsx)("span",{style:{lineHeight:"32px"},className:"icon-gif-cmt ic"})}),Object(_.jsx)("li",{children:Object(_.jsx)("span",{style:{lineHeight:"32px"},className:"icon-ticker-cmt ic p-2"})})]})]})})]}),Object(_.jsxs)("div",{className:"mb-2",children:[O&&O.type.includes("image")&&Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("img",{src:URL.createObjectURL(O),style:{width:"120px",objectFit:"contain",borderRadius:"8px"}}),Object(_.jsx)("div",{onClick:function(){return g(null)},className:"cursor-pointer",style:{position:"relative",top:"-120px",left:"80px"},children:Object(_.jsx)(P.a,{})})]}),O&&O.type.includes("video")&&Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("video",{controls:!0,style:{width:"200px",borderRadius:"8px"},children:Object(_.jsx)("source",{type:"video/mp4",src:URL.createObjectURL(O)})}),Object(_.jsx)("div",{onClick:function(){return g(null)},className:"cursor-pointer",style:{position:"relative",top:"-100px",left:"120px"},children:Object(_.jsx)(P.a,{})})]})]})]})},Q=function(e){var t=e.imgsize,s=e.currentUser,i=e.post,n=e.socket,r=e.comment_Id,l=Object(c.useState)(""),o=Object(a.a)(l,2),d=o[0],b=o[1],p=Object(f.c)(X),h=Object(a.a)(p,2),O=h[0],g=h[1],y=Object(c.useState)(!1),v=Object(a.a)(y,2),w=v[0],N=v[1],k=function(){var e=Object(u.a)(x.a.mark((function e(t){var c,a,l;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=new FormData,13!=t.charCode){e.next=12;break}if(a={content:d,userId:s._id,room:i.postId.toString(),repcomment:[],createAt:new Date(Date.now()),comment_Id:Math.random().toString(36).substring(2)+Math.random().toString(36).substring(2),UserCreator:i.userId},!O){e.next=9;break}return c.append("file",O),e.next=7,m.a.post("/api/post/filecomment",c,{headers:{"content-type":"multipart/form-data"}});case 7:l=e.sent,a.filecomment=Object(j.a)({},l.data);case 9:n.emit("sendComment-rep",Object(j.a)(Object(j.a)({},a),{},{comment_Id:r})),b(""),g(null);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsxs)("div",{className:"d-flex align-items-center mt-3 mb-3",style:{cursor:"pointer"},children:[Object(_.jsx)("div",{className:"dot-afas",children:Object(_.jsx)("img",{style:{width:t||"32px",height:t||"32px",borderRadius:"50%"},src:s&&s.profilePicture})}),Object(_.jsx)("div",{className:"ml-2  qwert",style:{width:"90%",borderRadius:"24px",height:"32px"},children:Object(_.jsxs)("div",{className:"d-flex",style:{height:"100%",borderRadius:"24px",width:"100%"},children:[Object(_.jsx)("input",{value:d,name:"content",className:"p-2",style:{flex:"3",outline:"none",height:"100%",borderRadius:"24px",border:"none",backgroundColor:"transparent"},type:"text",placeholder:"Vi\u1ebft b\xecnh lu\u1eadn",onChange:function(e){e.target.name;var t=e.target.value;b(t)},onKeyPress:k}),Object(_.jsxs)("ul",{className:"d-flex justify-content-around align-items-center p-2 pt-3",style:{margin:"0",height:"100%",flex:"1"},children:[Object(_.jsxs)("li",{style:{position:"relative"},onClick:function(){return N(!w)},children:[Object(_.jsx)("span",{style:{lineHeight:"32px"},className:"icon-feel-cmt ic"}),w?Object(_.jsx)("div",{style:{position:"absolute",top:"-335px",right:"2px"},children:Object(_.jsx)(G.a,{onEmojiClick:function(e,t){b(d+t.emoji)}})}):null]}),Object(_.jsxs)("li",{children:[Object(_.jsx)("label",{style:{margin:"0",cursor:"pointer"},htmlFor:"hinh-anh111",children:Object(_.jsx)("span",{style:{lineHeight:"32px"},className:"icon-img-cmt ic"})}),Object(_.jsx)("input",{onChange:function(e){var t=e.target.files[0];g(t||null)},name:"file",id:"hinh-anh111",style:{display:"none"},accept:"video/*,  video/x-m4v, video/webm, video/x-ms-wmv, video/x-msvideo, video/3gpp, video/flv, video/x-flv, video/mp4, video/quicktime, video/mpeg, video/ogv, .ts, .mkv, image/*, image/heic, image/heif",class:"mkhogb32",type:"file"})]}),Object(_.jsx)("li",{children:Object(_.jsx)("span",{style:{lineHeight:"32px"},className:"icon-gif-cmt ic"})}),Object(_.jsx)("li",{children:Object(_.jsx)("span",{style:{lineHeight:"32px"},className:"icon-ticker-cmt ic p-2"})})]})]})})]}),Object(_.jsxs)("div",{className:"mb-2",children:[O&&O.type.includes("image")&&Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("img",{src:URL.createObjectURL(O),style:{width:"120px",objectFit:"contain",borderRadius:"8px"}}),Object(_.jsx)("div",{onClick:function(){return g(null)},className:"cursor-pointer",style:{position:"relative",top:"-120px",left:"80px"},children:Object(_.jsx)(P.a,{})})]}),O&&O.type.includes("video")&&Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("video",{controls:!0,style:{width:"200px",borderRadius:"8px"},children:Object(_.jsx)("source",{type:"video/mp4",src:URL.createObjectURL(O)})}),Object(_.jsx)("div",{onClick:function(){return g(null)},className:"cursor-pointer",style:{position:"relative",top:"-100px",left:"120px"},children:Object(_.jsx)(P.a,{})})]})]})]})},$=function(e){var t=e.imgsize,s=e.setinputcmt,i=e.commentrep,n=Object(c.useState)(!1),r=Object(a.a)(n,2),l=r[0],o=r[1],d=Object(c.useState)(null),j=Object(a.a)(d,2),b=j[0],x=j[1],p=R().getUserById;return Object(c.useEffect)((function(){p(i.userId).then((function(e){x(e)}))}),[i&&i.userId]),Object(_.jsx)("div",{className:"d-flex align-items-center mt-3 mb-3",style:{cursor:"pointer",minWidth:"300px"},children:Object(_.jsxs)("div",{className:"d-flex",onMouseOver:function(){o(!0)},onMouseLeave:function(){o(!1)},children:[Object(_.jsx)("div",{className:"dot-afas",children:Object(_.jsx)("img",{style:{width:t||"32px",height:t||"32px",borderRadius:"50%",display:"inline-block"},src:b&&b.profilePicture})}),Object(_.jsxs)("div",{className:"d-flex flex-column",style:{maxWidth:"90%"},children:[Object(_.jsxs)("div",{className:"d-flex flex-column p-1 pl-2 pr-2",style:{maxWidth:"100%",marginLeft:"16px",borderRadius:"16px",backgroundColor:"#f0f2f5"},children:[Object(_.jsx)("span",{className:"onhover-text-decoration",style:{color:"#050505",fontWeight:"500",fontSize:"14px",textAlign:"start"},children:b&&b.username}),Object(_.jsx)("div",{style:{textAlign:"start",wordBreak:"break-word",wordWrap:"break-word"},children:i.content})]}),i.filecomment&&"image"==i.filecomment.type&&Object(_.jsx)("div",{className:"ml-4 mt-1",style:{maxWidth:"200px",maxHeight:"300px",borderRadius:"12px"},children:Object(_.jsx)("img",{style:{width:"100%",height:"100%",objectFit:"contain",borderRadius:"12px",display:"inline-block"},src:i.filecomment.url})}),i.filecomment&&"video"==i.filecomment.type&&Object(_.jsx)("div",{className:"ml-4 mt-1",style:{maxWidth:"300px",maxHeight:"300px",borderRadius:"12px"},children:Object(_.jsx)("video",{controls:!0,style:{width:"300px",borderRadius:"8px"},children:Object(_.jsx)("source",{type:"video/mp4",src:i.filecomment.url})})}),Object(_.jsxs)("div",{className:"d-flex ml-4",children:[Object(_.jsx)("span",{className:"ml-2 mr-2 onhover-text-decoration",style:{fontWeight:"bold",color:"#65676b",fontSize:"12px"},children:"Th\xedch"}),Object(_.jsx)("span",{className:"mr-2 onhover-text-decoration",style:{fontWeight:"bold",color:"#65676b",fontSize:"12px"},onClick:function(){return s(!0)},children:"Tr\u1ea3 l\u1eddi"}),Object(_.jsx)("span",{className:"onhover-text-decoration",style:{color:"#65676b",fontSize:"12px"},children:Object(V.a)(i.createAt)})]})]}),Object(_.jsx)("div",{className:!l&&"hidden-element",style:{flex:"1",width:"40px",height:"40px",textAlign:"center",cursor:"pointer"},children:Object(_.jsx)("i",{class:"bx bx-dots-horizontal-rounded bx-rotate-180",style:{color:"#5b626a",marginTop:"10px"}})})]})})},ee=function(e){var t=e.imgsize,s=e.socket,i=e.comment,n=e.post,r=(e.setdisplaycmt,R().getUserById),l=Object(c.useState)(!1),o=Object(a.a)(l,2),d=o[0],b=o[1],x=Object(c.useState)(!1),p=Object(a.a)(x,2),u=p[0],h=p[1],m=Object(c.useState)(null),O=Object(a.a)(m,2),g=(O[0],O[1]),y=Object(f.d)(v),w=Object(j.a)({},y).user,N=Object(c.useState)(null),k=Object(a.a)(N,2),C=k[0],A=k[1];return Object(c.useEffect)((function(){g(i)}),[]),Object(c.useEffect)((function(){r(i.userId).then((function(e){A(e)}))}),[i.userId]),Object(_.jsx)("div",{className:"d-flex align-items-center mt-3 mb-3",style:{cursor:"pointer"},children:Object(_.jsxs)("div",{className:"d-flex",onMouseOver:function(){b(!0)},onMouseLeave:function(){b(!1)},children:[Object(_.jsx)("div",{className:"dot-afas",children:Object(_.jsx)("img",{style:{width:t||"32px",height:t||"32px",borderRadius:"50%"},src:C&&C.profilePicture})}),Object(_.jsxs)("div",{className:"d-flex flex-column",style:{maxWidth:"90%"},children:[Object(_.jsxs)("div",{className:"d-flex flex-column p-1 pl-2 pr-2",style:{maxWidth:"100%",marginLeft:"16px",borderRadius:"16px",backgroundColor:"#f0f2f5"},children:[Object(_.jsx)("span",{className:"onhover-text-decoration",style:{color:"#050505",fontWeight:"500",fontSize:"14px",textAlign:"start"},children:C&&C.username}),Object(_.jsx)("div",{style:{textAlign:"start",wordBreak:"break-word",wordWrap:"break-word"},children:i.content})]}),i.filecomment&&"image"==i.filecomment.type&&Object(_.jsx)("div",{className:"ml-4 mt-1",style:{maxWidth:"200px",maxHeight:"300px",borderRadius:"12px"},children:Object(_.jsx)("img",{style:{width:"100%",height:"100%",objectFit:"contain",borderRadius:"12px",display:"inline-block"},src:i.filecomment.url})}),i.filecomment&&"video"==i.filecomment.type&&Object(_.jsx)("div",{className:"ml-4 mt-1",style:{maxWidth:"300px",maxHeight:"300px",borderRadius:"12px"},children:Object(_.jsx)("video",{controls:!0,style:{width:"300px",borderRadius:"8px"},children:Object(_.jsx)("source",{type:"video/mp4",src:i.filecomment.url})})}),Object(_.jsxs)("div",{className:"d-flex ml-4",children:[Object(_.jsx)("span",{className:"ml-2 mr-2 onhover-text-decoration",style:{fontWeight:"bold",color:"#65676b",fontSize:"12px"},children:"Th\xedch"}),Object(_.jsx)("span",{className:"mr-2 onhover-text-decoration",style:{fontWeight:"bold",color:"#65676b",fontSize:"12px"},onClick:function(){return h(!0)},children:"Tr\u1ea3 l\u1eddi"}),Object(_.jsx)("span",{className:"onhover-text-decoration",style:{color:"#65676b",fontSize:"12px"},children:Object(V.a)(i.createAt)})]}),Object(_.jsxs)("div",{className:"ml-4",children:[i.repcomment.length>0?i.repcomment.map((function(e){return Object(_.jsx)($,{commentrep:e,imgsize:24,setinputcmt:h})})):null,Object(_.jsx)("div",{className:u?"":"hidden-element",children:Object(_.jsx)(Q,{socket:s,post:n,currentUser:w,comment_Id:i.comment_Id,imgsize:24})})]})]}),Object(_.jsx)("div",{className:!d&&"hidden-element",style:{flex:"1",width:"40px",height:"40px",textAlign:"center",cursor:"pointer"},children:Object(_.jsx)("i",{class:"bx bx-dots-horizontal-rounded bx-rotate-180",style:{color:"#5b626a",marginTop:"10px"}})})]})})},te=(s(186),s(187),s.p+"static/media/like.8da211ae.gif"),se=s.p+"static/media/angry.832bd960.gif",ce=s.p+"static/media/love.8d4cabec.gif",ie=s.p+"static/media/sad.f763e388.gif",ne=s.p+"static/media/wow.cdf34509.gif",re=s.p+"static/media/haha.c50a8c50.gif",ae=(s(190),function(e){var t=e.displayListGifFeel,s=(e.socket,e.setdisplayListGifFeel),c=e.likePost;return Object(_.jsxs)("div",{onMouseLeave:function(){return s(!1)},onMouseMove:function(){return s(!0)},className:t?"list-gif-feel d-flex":"list-gif-feel d-none",children:[Object(_.jsx)("img",{className:"gif-feel",src:te,onClick:function(){return c("LIKE")}}),Object(_.jsx)("img",{className:"gif-feel",src:ce,onClick:function(){return c("LOVE")}}),Object(_.jsx)("img",{className:"gif-feel",src:re,onClick:function(){return c("HAHA")}}),Object(_.jsx)("img",{className:"gif-feel",src:ne,onClick:function(){return c("WOW")}}),Object(_.jsx)("img",{className:"gif-feel",src:ie,onClick:function(){return c("SAD")}}),Object(_.jsx)("img",{className:"gif-feel",src:se,onClick:function(){return c("ANGRY")}})]})}),le=function(){var e=Object(f.c)(E),t=Object(a.a)(e,2),s=(t[0],t[1]);return{getPosts:function(){var e=Object(u.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m.a.get("/api/post/getpost").then((function(e){s(Object(p.a)(e.data.posts))})).catch((function(e){return console.log(e)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),deletePost:function(){var e=Object(u.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,m.a.post("/api/post/delete",t).then((function(e){window.location.reload()})).catch((function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getPostsByIdUser:function(){var e=Object(u.a)(x.a.mark((function e(t){var s;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.get("/api/post/getpostbyuserid/".concat(t));case 3:if(!(s=e.sent).data.success){e.next=7;break}return console.log(s.data.list),e.abrupt("return",s.data.list);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),getPostsById:function(){var e=Object(u.a)(x.a.mark((function e(t){var s;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.get("/api/post/getpostbyid/".concat(t));case 3:if(!(s=e.sent).data.success){e.next=7;break}return console.log(s.data.post),e.abrupt("return",s.data.post);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()}},oe=s.p+"static/media/like.75f9bea1.svg",de=s.p+"static/media/love.09fee837.svg",je=s.p+"static/media/sad.b27c7807.svg",be=s.p+"static/media/angry.50c0e1ac.svg",xe=s.p+"static/media/wow.58d006b4.svg",pe=s.p+"static/media/haha.3fb063b0.svg",ue=function(e){var t=e.item,s=e.media;e.view;console.log(t);var i=Object(c.useRef)(),n=Object(c.useState)({}),r=Object(a.a)(n,2),d=r[0],b=r[1],h=Object(c.useState)({status:!1,type:""}),O=Object(a.a)(h,2),g=O[0],y=O[1],w=Object(c.useState)(!1),N=Object(a.a)(w,2),k=N[0],C=N[1],A=Object(c.useState)(t),S=Object(a.a)(A,2),R=S[0],L=S[1],W=Object(f.d)(v),I=Object(j.a)({},W).user,B=Object(c.useState)(!1),M=Object(a.a)(B,2),H=M[0],T=M[1],F=Object(c.useState)(t.comments),z=Object(a.a)(F,2),U=z[0],P=z[1],E=le().deletePost,D=Object(c.useRef)(),Z=Object(o.g)(),Y=function(){var e=Object(u.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get("/api/user/getuserbyid/".concat(t.userId)).then((function(e){b(e.data.user)})).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){i.current=q()("http://localhost:5000")}),[R._id]),Object(c.useEffect)((function(){if(I){var e=R.likes.find((function(e){return e.idlike==I._id}));y(e?{status:!0,type:e.type}:{status:!1,type:""})}}),[I&&I._id,R.likes.length,R]),Object(c.useEffect)((function(){Y()}),[]);Object(c.useEffect)((function(){i.current.on("server-send-comment",(function(e){console.log(e),L(Object(j.a)({},e.newpost)),P(Object(p.a)(e.newpost.comments))})),i.current.on("dataRoomCurrent",(function(e){L(e)})),i.current.on("getlistliked",(function(e){L(Object(j.a)({},e.newpost))}))}),[]);var G=function(){var e=Object(u.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i.current.emit("likePost",{userId:I._id,postId:R._id,type:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),K=Object(c.useState)(!1),X=Object(a.a)(K,2),Q=X[0],$=X[1];return Object(_.jsx)("div",{className:"container item-wraper",style:{border:"1px solid #e4e6eb"},onMouseOver:function(){i.current&&i.current.emit("joinRomPost",{name:R.postId,id:I._id})},children:Object(_.jsxs)("div",{className:"item",children:[Object(_.jsxs)("div",{className:"item-header d-flex pt-3 mb-2",children:[Object(_.jsx)(l.b,{to:"profile/".concat(d._id),className:"d-inline-block",children:Object(_.jsx)("img",{style:{flex:"0",cursor:"pointer",width:"48px",height:"48px",borderRadius:"50%",border:"1px solid rgba(96,98,102,0.3)"},src:d.profilePicture})}),Object(_.jsxs)("div",{className:"d-flex flex-column align-items-start ml-2",style:{flex:"10"},children:[Object(_.jsxs)(l.b,{to:"profile/".concat(d._id),className:"d-inline-block",children:[" ",Object(_.jsx)("strong",{children:Object(_.jsx)("span",{className:"onhover-text-decoration",style:{fontWeight:"600",color:"#050505",cursor:"pointer",fontSize:"18px"},children:d.username})})]}),Object(_.jsxs)("div",{children:[Object(_.jsx)("span",{style:{cursor:"pointer",userSelect:"none",fontWeight:"400",color:"#65676b",fontSize:" .8125rem"},children:Object(V.a)(t&&t.createdAt)}),Object(_.jsx)("span",{style:{color:"#65676b"},"aria-hidden":"true",children:" \xb7 "}),Object(_.jsx)("span",{class:"ormqv51v ",children:Object(_.jsx)("i",{className:"icon-public ic"})})]})]}),Object(_.jsx)("div",{style:{flex:"1",width:"40px",height:"40px",borderRadius:"50%",backgroundColor:"#f2f2f2",textAlign:"center",cursor:"pointer"},onClick:function(){R.userId===I._id&&T(!H)},children:Object(_.jsx)("i",{class:"bx bx-dots-horizontal-rounded bx-rotate-180",style:{color:"#5b626a",marginTop:"10px"}})}),H?Object(_.jsx)("ul",{style:{position:"relative"},children:Object(_.jsx)("li",{style:{cursor:"pointer",position:"absolute",top:"44px0",color:"red",backgroundColor:"#f2f2f2",width:"50px",height:"25px",borderRadius:"4px",display:"block"},onClick:function(){return E({img_public_id:R.img_public_id,video_public_id:R.video_public_id,id:R._id})},children:"X\xf3a"})}):null]}),Object(_.jsx)("div",{className:"content",style:{borderBottom:"1px solid #e4e6eb",textAlign:"start",color:"#050505",wordBreak:"break-word",wordWrap:"break-word",fontSize:"0.9375rem"},children:t&&t.content}),t&&t.img&&s?Object(_.jsx)("div",{className:"content-img mt-",style:{width:"100%"},children:Object(_.jsx)("img",{style:{cursor:"pointer",objectFit:"cover",width:"100%",display:"inline-block",height:"100%"},src:t&&t.img,alt:"",onClick:function(){return Z.push("/posts/views/".concat(t._id))}})}):null,t&&t.video&&s?Object(_.jsx)("div",{style:{borderTop:"1px solid #e4e6eb",cursor:"pointer"},children:Object(_.jsx)("video",{ref:D,style:{width:"100%"},controls:!0,autoPlay:!1,onClick:function(){D.current.muted=!0,Z.push("/posts/video/".concat(t._id))},children:Object(_.jsx)("source",{src:t&&t.video,type:"video/mp4"})})}):null,Object(_.jsx)("div",{style:{width:"100%",borderTop:"1px solid #e4e6eb"}}),Object(_.jsx)("div",{style:{height:"42px",borderBottom:"1px solid #e4e6eb"},children:Object(_.jsxs)("div",{className:"icon-cam-xuc d-flex align-items-center ",children:[Object(_.jsxs)("span",{className:"d-flex align-items-center p-2",style:{display:"inline-block",flex:"1"},children:[R.likes.some((function(e){return""==e.type||"LIKE"==e.type}))&&Object(_.jsx)("span",{className:"cursor-pointer",children:Object(_.jsx)("img",{style:{width:"18px",height:"18px"},src:oe})}),R.likes.some((function(e){return"LOVE"==e.type}))&&Object(_.jsx)("span",{className:"cursor-pointer",children:Object(_.jsx)("img",{style:{width:"18px",height:"18px"},src:de})}),R.likes.some((function(e){return"HAHA"==e.type}))&&Object(_.jsx)("span",{className:"cursor-pointer",children:Object(_.jsx)("img",{style:{width:"18px",height:"18px"},src:pe})})," ",R.likes.some((function(e){return"WOW"==e.type}))&&Object(_.jsx)("span",{className:"cursor-pointer",children:Object(_.jsx)("img",{style:{width:"18px",height:"18px"},src:xe})})," ",R.likes.some((function(e){return"SAD"==e.type}))&&Object(_.jsx)("span",{className:"cursor-pointer",children:Object(_.jsx)("img",{style:{width:"18px",height:"18px"},src:je})})," ",R.likes.some((function(e){return"ANGRY"==e.type}))&&Object(_.jsx)("span",{className:"cursor-pointer",children:Object(_.jsx)("img",{style:{width:"18px",height:"18px"},src:be})}),Object(_.jsx)("span",{className:"ml-2 mt-1 onhover-text-decoration ",style:{fontSize:".9375rem",color:"#656783"},children:R.likes.length>0&&R.likes.length})]}),Object(_.jsx)("span",{className:"d-flex align-items-center pt-1 ",style:{flex:"1",display:"inline-block",height:"42px"},children:Object(_.jsx)("span",{className:"onhover-text-decoration",style:{lineHeight:"18px",cursor:"pointer",fontSize:".9375rem",color:"#656783"},onClick:function(){return $(!0)},children:"".concat(R.comments.length>0?R.comments.length:""," B\xecnh lu\u1eadn")})})]})}),Object(_.jsxs)("div",{className:"d-flex align-items-center ",style:{height:"40px",borderBottom:"1px solid #e4e6eb"},children:[Object(_.jsxs)("div",{onMouseLeave:function(){return C(!1)},onMouseOver:function(){return C(!0)},onMouseMove:function(){return C(!0)},className:"qwewqe-12 hover-nut-like d-flex justify-content-center align-items-center",style:{color:"#606770",flex:"1"},onClick:function(){return G("")},children:[g.status&&""==g.type||"LIKE"==g.type?Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("span",{style:{lineHeight:"100%"},children:Object(_.jsx)("i",{className:"icon-like ic liked"})}),Object(_.jsx)("span",{style:{lineHeight:"100%"},className:"text-liked",children:"Th\xedch"})]}):null,!g.status&&Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("span",{style:{lineHeight:"100%"},children:Object(_.jsx)("i",{className:"icon-like ic"})}),Object(_.jsx)("span",{style:{lineHeight:"100%"},children:"Th\xedch"})]}),g.status&&"HAHA"==g.type?Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("span",{className:"cursor-pointer",children:Object(_.jsx)("img",{style:{width:"18px",height:"18px"},src:pe})}),Object(_.jsx)("span",{className:"ml-1",style:{lineHeight:"100%",color:"rgb(247, 177, 37)",fontWeight:"600"},children:"Haha"})]}):null,g.status&&"LOVE"==g.type?Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("span",{className:"cursor-pointer",children:Object(_.jsx)("img",{style:{width:"18px",height:"18px"},src:de})}),Object(_.jsx)("span",{className:"ml-1",style:{lineHeight:"100%",color:"rgb(245 62 88)",fontWeight:"600"},children:"Y\xeau th\xedch"})]}):null,g.status&&"WOW"==g.type?Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("span",{className:"cursor-pointer",children:Object(_.jsx)("img",{alt:"Wow",class:"",height:"18",src:xe,width:"18"})}),Object(_.jsx)("span",{className:"ml-1",style:{lineHeight:"100%",color:"rgb(247, 177, 37)",fontWeight:"600"},children:"Wow"})]}):null,g.status&&"SAD"==g.type?Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("span",{className:"cursor-pointer",children:Object(_.jsx)("img",{alt:"Bu\u1ed3n",class:"",height:"18",src:je,width:"18"})}),Object(_.jsx)("span",{className:"ml-1",style:{lineHeight:"100%",color:"rgb(247, 177, 37)",fontWeight:"600"},children:"Bu\u1ed3n"})]}):null,g.status&&"ANGRY"==g.type?Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("span",{className:"cursor-pointer",children:Object(_.jsx)("img",{alt:"Ph\u1eabn n\u1ed9",class:"",height:"18",src:be,width:"18"})}),Object(_.jsx)("span",{className:"ml-1",style:{lineHeight:"100%",color:"#ea7826",fontWeight:"600"},children:"Ph\u1eabn n\u1ed9"})]}):null]}),Object(_.jsxs)("div",{onClick:function(){return $(!0)},className:" qwewqe-12 d-flex justify-content-center align-items-center",style:{color:"#606770",flex:"1"},children:[Object(_.jsx)("span",{style:{lineHeight:"100%"},children:Object(_.jsx)("i",{className:"icon-comment ic"})}),Object(_.jsx)("span",{style:{lineHeight:"100%"},children:"B\xecnh lu\u1eadn"})]}),Object(_.jsxs)("div",{className:" qwewqe-12 d-flex justify-content-center align-items-center",style:{color:"#606770",flex:"1"},children:[Object(_.jsx)("span",{style:{lineHeight:"100%"},children:Object(_.jsx)("i",{className:"icon-share ic"})}),Object(_.jsx)("span",{style:{lineHeight:"100%"},children:"Chia s\u1ebb"})]})]}),Object(_.jsx)("div",{className:!Q&&"hidden-element",children:U.length&&U.map((function(e){return Object(_.jsx)(ee,{socket:i.current,post:R,setdisplaycmt:$,comment:e})}))}),Object(_.jsx)(J,{currentUser:I,socket:i.current,setdisplaycmt:$,post:R}),Object(_.jsx)(ae,{likePost:G,displayListGifFeel:k,setdisplayListGifFeel:C,socket:i.current})]})})},he=function(e){var t=e.setoverlay,s=e.socket,c=e.setShowAlertCreated,i=e.setShowAlert,n=Object(f.c)(E),r=Object(a.a)(n,2),l=r[0];r[1],Object(f.d)(v);return Object(_.jsxs)("div",{className:"container-fluid col-xl-6 col-xxl-6 col-lg-6 Feed",children:[Object(_.jsx)("div",{className:"story-container",children:Object(_.jsx)(F,{})}),Object(_.jsx)(Z,{socket:s,setoverlay:t,setShowAlertCreated:c,setShowAlert:i}),l.map((function(e){return Object(_.jsx)(ue,{item:e,media:!0,socket:s},e._id)}))]})};s(191);function me(){var e=Object(f.d)(v),t=Object(c.useState)(!1),s=Object(a.a)(t,2),i=s[0],n=s[1],r=function(){n(!i)};return Object(_.jsx)("div",{className:"col-xl-3 col-xxl-3 col-lg-3 sidebar",children:Object(_.jsxs)("ul",{children:[Object(_.jsx)("li",{className:"sidebar-item",style:{marginTop:"20px"},children:Object(_.jsx)(l.b,{to:"/profile/".concat(e.user._id),children:Object(_.jsxs)("div",{style:{display:"flex",cursor:"pointer",borderRadius:"12px"},children:[Object(_.jsx)("img",{style:{width:"28px",height:"28px",borderRadius:"50%"},src:e&&e.user.profilePicture}),Object(_.jsx)("span",{style:{color:"#050505",marginLeft:"8px",fontWeight:"500"},children:e.user.username})]})})}),Object(_.jsx)("li",{className:"sidebar-item",style:{marginTop:"20px"},children:Object(_.jsxs)("div",{style:{display:"flex",cursor:"pointer",borderRadius:"12px"},children:[Object(_.jsx)("img",{style:{width:"28px",height:"28px",borderRadius:"50%"},src:"https://static.xx.fbcdn.net/rsrc.php/v3/y8/r/S0U5ECzYUSu.png"}),Object(_.jsx)("span",{style:{color:"#050505",marginLeft:"8px",fontWeight:"500"},children:"B\u1ea1n b\xe8"})]})}),Object(_.jsx)("li",{className:"sidebar-item",style:{marginTop:"20px"},children:Object(_.jsxs)("div",{style:{display:"flex",cursor:"pointer",borderRadius:"12px"},children:[Object(_.jsx)("img",{style:{width:"28px",height:"28px",borderRadius:"50%"},src:"https://static.xx.fbcdn.net/rsrc.php/v3/yD/r/lVijPkTeN-r.png"}),Object(_.jsx)("span",{style:{color:"#050505",marginLeft:"8px",fontWeight:"500"},children:"Trang"})]})}),Object(_.jsx)("li",{className:"sidebar-item",style:{marginTop:"20px"},children:Object(_.jsxs)("div",{style:{display:"flex",cursor:"pointer",borderRadius:"12px"},children:[Object(_.jsx)("img",{style:{width:"28px",height:"28px",borderRadius:"50%"},src:"https://static.xx.fbcdn.net/rsrc.php/v3/yH/r/kyCAf2jbZvF.png"}),Object(_.jsx)("span",{style:{color:"#050505",marginLeft:"8px",fontWeight:"500"},children:"Nh\xf3m"})]})}),Object(_.jsx)("li",{className:"sidebar-item",style:{marginTop:"20px"},children:Object(_.jsxs)("div",{style:{display:"flex",cursor:"pointer",borderRadius:"12px"},children:[Object(_.jsx)("img",{style:{width:"28px",height:"28px",borderRadius:"50%"},src:"https://static.xx.fbcdn.net/rsrc.php/v3/yU/r/D2y-jJ2C_hO.png"}),Object(_.jsx)("span",{style:{color:"#050505",marginLeft:"8px",fontWeight:"500"},children:"Marketplace"})]})}),Object(_.jsx)("li",{className:"sidebar-item",style:{marginTop:"20px"},children:Object(_.jsxs)("div",{style:{display:"flex",cursor:"pointer",borderRadius:"12px"},children:[Object(_.jsx)("img",{style:{width:"28px",height:"28px",borderRadius:"50%"},src:"https://static.xx.fbcdn.net/rsrc.php/v3/yj/r/n2vd2VduYc1.png"}),Object(_.jsx)("span",{style:{color:"#050505",marginLeft:"8px",fontWeight:"500"},children:"Chi\u1ebfn d\u1ecbch g\xe2y qu\u1ef9"})]})}),Object(_.jsx)("li",{className:"sidebar-item",style:{marginTop:"20px"},children:Object(_.jsxs)("div",{style:{display:"flex",cursor:"pointer",borderRadius:"12px"},children:[Object(_.jsx)("img",{style:{width:"28px",height:"28px",borderRadius:"50%"},src:"https://static.xx.fbcdn.net/rsrc.php/v3/yt/r/PObY9OA5lvJ.png"}),Object(_.jsx)("span",{style:{color:"#050505",marginLeft:"8px",fontWeight:"500"},children:"Ch\u01a1i game"})]})}),i?Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("li",{className:"sidebar-item",style:{marginTop:"20px"},children:Object(_.jsxs)("div",{style:{display:"flex",cursor:"pointer",borderRadius:"12px"},children:[Object(_.jsx)("img",{style:{width:"28px",height:"28px",borderRadius:"50%"},src:"https://static.xx.fbcdn.net/rsrc.php/v3/yQ/r/MN5ZSGIfEZ3.png"}),Object(_.jsx)("span",{style:{color:"#050505",marginLeft:"8px",fontWeight:"500"},children:"Danh s\xe1ch b\u1ea1n b\xe8"})]})}),Object(_.jsx)("li",{className:"sidebar-item",style:{marginTop:"20px"},children:Object(_.jsxs)("div",{style:{display:"flex",cursor:"pointer",borderRadius:"12px"},children:[Object(_.jsx)("img",{style:{width:"28px",height:"28px",borderRadius:"50%"},src:"https://static.xx.fbcdn.net/rsrc.php/v3/yv/r/GJ4EaivDaSj.png"}),Object(_.jsx)("span",{style:{color:"#050505",marginLeft:"8px",fontWeight:"500"},children:"Facebook Pay"})]})}),Object(_.jsx)("li",{className:"sidebar-item",style:{marginTop:"20px"},children:Object(_.jsxs)("div",{style:{display:"flex",cursor:"pointer",borderRadius:"12px"},children:[Object(_.jsx)("img",{style:{width:"28px",height:"28px",borderRadius:"50%"},src:"https://static.xx.fbcdn.net/rsrc.php/v3/ye/r/w-vdKCGzCy1.png"}),Object(_.jsx)("span",{style:{color:"#050505",marginLeft:"8px",fontWeight:"500"},children:"G\u1ea7n \u0111\xe2y nh\u1ea5t"})]})}),Object(_.jsx)("li",{className:"sidebar-item",style:{marginTop:"20px"},children:Object(_.jsxs)("div",{style:{display:"flex",cursor:"pointer",borderRadius:"12px"},children:[Object(_.jsx)("img",{style:{width:"28px",height:"28px",borderRadius:"50%"},src:"https://static.xx.fbcdn.net/rsrc.php/v3/yj/r/8OasGoQgQgF.png"}),Object(_.jsx)("span",{style:{color:"#050505",marginLeft:"8px",fontWeight:"500"},children:"Ho\u1ea1t \u0111\u1ed9ng qu\u1ea3ng c\xe1o g\u1ea7n \u0111\xe2y"})]})}),Object(_.jsx)("li",{className:"sidebar-item",style:{marginTop:"20px"},children:Object(_.jsxs)("div",{style:{display:"flex",cursor:"pointer",borderRadius:"12px"},children:[Object(_.jsx)("img",{style:{width:"28px",height:"28px",borderRadius:"50%"},src:"https://static.xx.fbcdn.net/rsrc.php/v3/y8/r/he-BkogidIc.png"}),Object(_.jsx)("span",{style:{color:"#050505",marginLeft:"8px",fontWeight:"500"},children:"K\u1ef7 ni\u1ec7m"})]})}),Object(_.jsx)("li",{className:"sidebar-item",style:{marginTop:"20px"},children:Object(_.jsxs)("div",{style:{display:"flex",cursor:"pointer",borderRadius:"12px"},children:[Object(_.jsx)("img",{style:{width:"28px",height:"28px",borderRadius:"50%"},src:"https://static.xx.fbcdn.net/rsrc.php/v3/y5/r/4Y9Xi2D3hJv.png"}),Object(_.jsx)("span",{style:{color:"#050505",marginLeft:"8px",fontWeight:"500"},children:"Messager"})]})}),Object(_.jsx)("li",{className:"sidebar-item",style:{marginTop:"20px"},children:Object(_.jsxs)("div",{style:{display:"flex",cursor:"pointer",borderRadius:"12px"},children:[Object(_.jsx)("img",{style:{width:"28px",height:"28px",borderRadius:"50%"},src:"https://static.xx.fbcdn.net/rsrc.php/v3/yu/r/1Xvrz50fHMF.png"}),Object(_.jsx)("span",{style:{color:"#050505",marginLeft:"8px",fontWeight:"500"},children:"Messager nh\xed"})]})}),Object(_.jsx)("li",{className:"sidebar-item",style:{marginTop:"20px"},children:Object(_.jsxs)("div",{style:{display:"flex",cursor:"pointer",borderRadius:"12px"},children:[Object(_.jsx)("img",{style:{width:"28px",height:"28px",borderRadius:"50%"},src:"https://static.xx.fbcdn.net/rsrc.php/v3/ys/r/8wTx0Eu2vRq.png"}),Object(_.jsx)("span",{style:{color:"#050505",marginLeft:"8px",fontWeight:"500"},children:"S\u1ef1 ki\u1ec7n"})]})}),Object(_.jsx)("li",{className:"sidebar-item",style:{marginTop:"20px"},children:Object(_.jsxs)("div",{style:{display:"flex",cursor:"pointer",borderRadius:"12px"},children:[Object(_.jsx)("img",{style:{width:"28px",height:"28px",borderRadius:"50%"},src:"https://static.xx.fbcdn.net/rsrc.php/v3/y5/r/vxMUnHhu6Do.png"}),Object(_.jsx)("span",{style:{color:"#050505",marginLeft:"8px",fontWeight:"500"},children:"S\u1ee9c kh\u1ecfe c\u1ea3m x\xfac"})]})}),Object(_.jsx)("li",{className:"sidebar-item",style:{marginTop:"20px"},children:Object(_.jsxs)("div",{style:{display:"flex",cursor:"pointer",borderRadius:"12px"},children:[Object(_.jsx)("img",{style:{width:"28px",height:"28px",borderRadius:"50%"},src:"https://static.xx.fbcdn.net/rsrc.php/v3/yC/r/bo0Zt72NIra.png"}),Object(_.jsx)("span",{style:{color:"#050505",marginLeft:"8px",fontWeight:"500"},children:"Th\u1eddi ti\u1ebft"})]})}),Object(_.jsx)("li",{className:"sidebar-item",style:{marginTop:"20px"},children:Object(_.jsxs)("div",{style:{display:"flex",cursor:"pointer",borderRadius:"12px"},children:[Object(_.jsx)("img",{style:{width:"28px",height:"28px",borderRadius:"50%"},src:"https://static.xx.fbcdn.net/rsrc.php/v3/y9/r/DHBHg9MEeSC.png"}),Object(_.jsx)("span",{style:{color:"#050505",marginLeft:"8px",fontWeight:"500"},children:"Tr\xecnh qu\u1ea3n l\xed qu\u1ea3ng c\xe1o"})]})}),Object(_.jsx)("li",{className:"sidebar-item",style:{marginTop:"20px"},children:Object(_.jsxs)("div",{style:{display:"flex",cursor:"pointer",borderRadius:"12px"},children:[Object(_.jsx)("img",{style:{width:"28px",height:"28px",borderRadius:"50%"},src:"https://static.xx.fbcdn.net/rsrc.php/v3/y9/r/DHBHg9MEeSC.png"}),Object(_.jsx)("span",{style:{color:"#050505",marginLeft:"8px",fontWeight:"500"},children:"Tr\xecnh qu\u1ea3n l\xed qu\u1ea3ng c\xe1o"})]})}),Object(_.jsx)("li",{className:"sidebar-item",style:{marginTop:"20px"},children:Object(_.jsxs)("div",{style:{display:"flex",cursor:"pointer",borderRadius:"12px"},children:[Object(_.jsx)("img",{style:{width:"28px",height:"28px",borderRadius:"50%"},src:"https://static.xx.fbcdn.net/rsrc.php/v3/yD/r/CwKNCefmHON.png"}),Object(_.jsx)("span",{style:{color:"#050505",marginLeft:"8px",fontWeight:"500"},children:"Trung t\xe2m qu\u1ea3ng c\xe1o"})]})}),Object(_.jsx)("li",{className:"sidebar-item",style:{marginTop:"20px"},children:Object(_.jsxs)("div",{style:{display:"flex",cursor:"pointer",borderRadius:"12px"},children:[Object(_.jsx)("img",{style:{width:"28px",height:"28px",borderRadius:"50%"},src:"https://static.xx.fbcdn.net/rsrc.php/v3/yT/r/cT5nPnO8Wsc.png"}),Object(_.jsx)("span",{style:{color:"#050505",marginLeft:"8px",fontWeight:"500"},children:"\u1ee8ng ph\xf3 kh\u1ea9n c\u1ea5p"})]})}),Object(_.jsx)("li",{className:"sidebar-item",style:{marginTop:"20px"},children:Object(_.jsxs)("div",{style:{display:"flex",cursor:"pointer",borderRadius:"12px"},children:[Object(_.jsx)("img",{style:{width:"28px",height:"28px",borderRadius:"50%"},src:"https://static.xx.fbcdn.net/rsrc.php/v3/y_/r/NYOGcd-z-qs.png"}),Object(_.jsx)("span",{style:{color:"#050505",marginLeft:"8px",fontWeight:"500"},children:"\u01afu \u0111\xe3i"})]})}),Object(_.jsx)("li",{className:"sidebar-item",style:{marginTop:"20px"},children:Object(_.jsxs)("div",{style:{display:"flex",cursor:"pointer",borderRadius:"12px"},children:[Object(_.jsx)("img",{style:{width:"28px",height:"28px",borderRadius:"50%"},src:"https://static.xx.fbcdn.net/rsrc.php/v3/yy/r/9bekmF_PzNp.png"}),Object(_.jsx)("span",{style:{color:"#050505",marginLeft:"8px",fontWeight:"500"},children:"Video ch\u01a1i game"})]})}),Object(_.jsx)("li",{className:"sidebar-item",style:{marginTop:"20px"},children:Object(_.jsxs)("div",{style:{display:"flex",cursor:"pointer",borderRadius:"12px"},children:[Object(_.jsx)("img",{style:{width:"28px",height:"28px",borderRadius:"50%"},src:"https://static.xx.fbcdn.net/rsrc.php/v3/yG/r/Nl9CPY6q_n-.png"}),Object(_.jsx)("span",{style:{color:"#050505",marginLeft:"8px",fontWeight:"500"},children:"Video tr\u1ef1c ti\u1ebfp"})]})}),Object(_.jsx)("li",{className:"sidebar-item",style:{marginTop:"20px"},children:Object(_.jsxs)("div",{style:{display:"flex",cursor:"pointer",borderRadius:"12px"},children:[Object(_.jsx)("img",{style:{width:"28px",height:"28px",borderRadius:"50%"},src:"https://static.xx.fbcdn.net/rsrc.php/v3/yo/r/DO-SN-shaZL.png"}),Object(_.jsx)("span",{style:{color:"#050505",marginLeft:"8px",fontWeight:"500"},children:"Vi\u1ec7c l\xe0m"})]})}),Object(_.jsx)("li",{className:"sidebar-item",style:{marginTop:"20px"},children:Object(_.jsxs)("div",{style:{display:"flex",cursor:"pointer",borderRadius:"12px"},children:[Object(_.jsx)("img",{style:{width:"28px",height:"28px",borderRadius:"50%"},src:"https://static.xx.fbcdn.net/rsrc.php/v3/y5/r/duk32h44Y31.png"}),Object(_.jsx)("span",{style:{color:"#050505",marginLeft:"8px",fontWeight:"500"},children:"Watch"})]})}),Object(_.jsx)("li",{className:"sidebar-item",style:{marginTop:"20px"},children:Object(_.jsxs)("div",{style:{display:"flex",cursor:"pointer",borderRadius:"12px"},children:[Object(_.jsx)("img",{style:{width:"28px",height:"28px",borderRadius:"50%"},src:"https://static.xx.fbcdn.net/rsrc.php/v3/yK/r/mAnT0r8GSOm.png"}),Object(_.jsx)("span",{style:{color:"#050505",marginLeft:"8px",fontWeight:"500"},children:"Y\xeau th\xedch"})]})})]}):null,i?Object(_.jsx)("li",{className:"sidebar-item",style:{marginTop:"20px"},children:Object(_.jsxs)("div",{style:{display:"flex",cursor:"pointer",borderRadius:"12px"},children:[Object(_.jsx)("i",{className:"top-more-side-bar"}),Object(_.jsx)("span",{style:{color:"#050505",marginLeft:"8px",fontWeight:"500"},onClick:r,children:"\u1ea8n b\u1edbt"})]})}):Object(_.jsx)("li",{className:"sidebar-item",style:{marginTop:"20px"},children:Object(_.jsxs)("div",{style:{display:"flex",cursor:"pointer",borderRadius:"12px"},children:[Object(_.jsx)("i",{className:"down-more-side-bar"}),Object(_.jsx)("span",{style:{color:"#050505",marginLeft:"8px",fontWeight:"500"},onClick:r,children:"Xem th\xeam"})]})})]})})}s(192),s(193);var fe=function(e){var t=e.user,s=e.content,c=Object(f.d)(v);return Object(_.jsx)("li",{className:s.userSend===c.user._id?"item-mess me":"item-mess",style:{width:"100%"},children:Object(_.jsxs)("div",{className:"d-flex m-2 p-1",children:[Object(_.jsx)("img",{style:{width:"32px",height:"32px",float:"left",borderRadius:"50%"},src:t.profilePicture}),Object(_.jsx)("span",{className:"p-3 d-block",style:{maxWidth:"80%",textAlign:"start",wordBreak:"break-word",fontSize:".9375rem",lineHeight:"1.333",color:"#050505",marginLeft:"8px",fontWeight:"400",backgroundColor:"#e4e6eb",borderRadius:"32px"},children:s.content})]})})},Oe=function(e){var t=e.setChatBoxShow,s=e.currentUser,i=e.userConnect,n=e.socket,r=Object(o.g)(),l=Object(c.useState)(!1),d=Object(a.a)(l,2),j=d[0],b=d[1],x=Object(c.useRef)(),u=Object(c.useState)([]),h=Object(a.a)(u,2),m=h[0],f=h[1],O=Object(c.useState)(""),g=Object(a.a)(O,2),y=g[0],v=g[1];Object(c.useEffect)((function(){x.current.scrollIntoView({behavior:"smooth"})}),[m.length,i._id]);Object(c.useEffect)((function(){n.emit("getdatamess",{name:s.user_id+i.user_id,listUser:[s,i]}),n.emit("send-notify-seen-server",{id:s._id,room:s.user_id+i.user_id})}),[s.user_id+i.user_id]),Object(c.useEffect)((function(){n.on("server-send-data-mess",(function(e){console.log(e),f(Object(p.a)(e.content))}))}),[]),Object(c.useEffect)((function(){n.on("sever-send-mess",(function(e){f((function(t){return[].concat(Object(p.a)(t),[e])}))}))}),[]);return Object(_.jsxs)("div",{className:"chatboxWraper",style:{boxShadow:"0 4px 10px 0 rgb(0 0 0 / 20%), 0 4px 20px 0 rgb(0 0 0 / 19%)"},children:[Object(_.jsxs)("div",{className:"d-flex mt-2 ml-2 mr-2 p-1 align-items-center chatbox-header cursor-pointer",style:{boxShadow:"0 2px rgba(0,0,0,0.1)"},children:[Object(_.jsx)("img",{style:{width:"36px",height:"36px",float:"left",borderRadius:"50%"},src:i&&i.profilePicture,onClick:function(){return r.push("/profile/".concat(i._id))}}),Object(_.jsx)("div",{className:"d-flex flex-column align-items-start justify-content-center ",onClick:function(){return r.push("/profile/".concat(i._id))},children:Object(_.jsx)("span",{style:{color:"#050505",marginLeft:"8px",fontWeight:"600"},children:i&&i.username})}),Object(_.jsx)("div",{className:"cursor-pointer",style:{position:"absolute",right:"10px",top:"-2px"},onClick:function(){return t(!1)},children:Object(_.jsx)(P.a,{})})]}),Object(_.jsxs)("ul",{className:"d-lex flex-column content-chat-box",style:{overflowY:"scroll",height:"75%"},children:[m.length>0&&m.map((function(e){return Object(_.jsx)(fe,{user:i,content:e},Math.random())})),Object(_.jsx)("div",{ref:x})]}),Object(_.jsxs)("div",{className:"d-flex mt-2 ml-2 mr-2 p-2 chatbox-footer align-items-center",style:{borderTop:"1px solid rgba(0,0,0,0.1)",height:"50px",boxShadow:"0 2px rgba(0,0,0,0.1)"},children:[Object(_.jsx)("input",{onKeyPress:function(e){13==e.charCode&&(n.emit("client-send-mess",{content:y,userSend:s._id,room:s.user_id+i.user_id,toUser:i._id,seen:!1,createAt:new Date(Date.now()),mess_id:Math.random().toString(36).substring(2)+Math.random().toString(36).substring(2)+Math.random().toString(36).substring(2)+Math.random().toString(36).substring(2)+Math.random().toString(36).substring(2)}),v(""),b(!1),n.emit("send-notify-seen-server",{id:s._id,room:s.user_id+i.user_id}))},onChange:function(e){v(e.target.value)},value:y,className:"p-1",style:{height:"100%",outline:"none",borderRadius:"24px",width:"90%",border:"none",backgroundColor:"#f0f2f5"},placeholder:"nh\u1eadp tin nh\u1eafn ..."}),Object(_.jsx)("span",{style:{lineHeight:"32px"},className:"icon-feel-cmt ic cursor-pointer ml-2",onClick:function(){return b(!j)}}),j?Object(_.jsx)("div",{style:{position:"absolute",top:"-335px",right:"2px"},children:Object(_.jsx)(G.a,{onEmojiClick:function(e,t){v(y+t.emoji)}})}):null]})]})},ge=function(e){var t=e.user,s=e.setChatBoxShow,i=e.setUserConnect,n=e.socket,r=Object(f.d)(v),l=Object(f.d)(k),o=Object(f.d)(C),d=Object(c.useState)(!1),j=Object(a.a)(d,2),b=j[0],x=j[1],p=function(e){n.emit("accept-friend",{userSendId:t._id,toUserId:r.user._id,createAt:new Date(Date.now()),type:e})};return Object(c.useEffect)((function(){x(l.some((function(e){return e.id==t._id})))}),[l.length,l]),Object(_.jsxs)("li",{style:{width:"100%"},className:"mt-2 d-flex",children:[Object(_.jsxs)("div",{style:{borderRadius:"8px"},onClick:function(){s(!0),i(t)},className:"d-flex item-user cursor-pointer align-items-center",children:[Object(_.jsx)("div",{className:t.isOnline?"list-user-das align-items-center  list-user-das-rightbar d-flex list-user-das-rightbar-online":"list-user-das align-items-center  list-user-das-rightbar d-flex",style:{cursor:"pointer",borderRadius:"12px"},children:Object(_.jsx)("img",{style:{width:"40px",height:"40px",borderRadius:"50%"},src:t.profilePicture})}),Object(_.jsx)("span",{style:{color:"#050505",marginLeft:"8px",fontWeight:"500"},children:t.username})]}),o.some((function(e){return e.id==t._id}))?Object(_.jsxs)("div",{className:"d-flex align-items-center ml-4",children:[Object(_.jsx)("span",{className:"d-inline-block mr-3 cursor-pointer ",style:{height:"40px",lineHeight:"40px",width:"60px",backgroundColor:"#e4e6eb",color:"#000",fontWeight:"500",borderRadius:"8px"},onClick:function(){return p(!1)},children:"x\xf3a"}),Object(_.jsx)("span",{className:"d-inline-block cursor-pointer",style:{height:"40px",width:"90px",lineHeight:"40px",backgroundColor:"#2d88ff",color:"#fff",fontWeight:"500",borderRadius:"8px"},onClick:function(){return p(!0)},children:"x\xe1c nh\u1eadn"})]}):Object(_.jsx)("div",{className:"align-items-center d-flex justify-content-between ml-4 cursor-pointer",onClick:function(){n.emit("client-send-request-addFriend",{userSendId:r.user._id,toUserId:t._id,createAt:new Date(Date.now())})},children:b?Object(_.jsxs)("span",{className:"mr-3 d-flex",style:{fontSize:"30px",backgroundColor:"#e7f3ff",color:"#1877f2"},children:[Object(_.jsx)("i",{class:"bx bxs-user-minus"}),Object(_.jsx)("p",{style:{fontSize:"16px",margin:"0",color:"#1877f2",fontWeight:"500"},children:"H\u1ee7y l\u1eddi m\u1eddi"})]}):Object(_.jsxs)("span",{className:"mr-3 d-flex align-items-center",style:{fontSize:"30px",backgroundColor:"#e7f3ff",color:"#1877f2"},children:[Object(_.jsx)("i",{class:"bx bxs-user-plus"}),Object(_.jsx)("p",{style:{fontSize:"16px",margin:"0",color:"#1877f2",fontWeight:"500"},children:"Th\xeam b\u1ea1n"})]})})]})},ye=function(e){var t=e.user,s=e.setChatBoxShow,c=e.setUserConnect;return Object(_.jsx)("li",{style:{width:"100%",borderRadius:"8px"},className:"ml-3 p-2",children:Object(_.jsxs)("div",{onClick:function(){s(!0),c(t)},className:"d-flex item-user cursor-pointer align-items-center ",style:{width:"100%",height:"100%"},children:[Object(_.jsx)("div",{className:t.isOnline?"list-user-das align-items-center  list-user-das-rightbar d-flex list-user-das-rightbar-online":"list-user-das align-items-center  list-user-das-rightbar d-flex",style:{cursor:"pointer",borderRadius:"12px",flex:"0"},children:Object(_.jsx)("img",{style:{width:"40px",height:"40px",borderRadius:"50%"},src:t.profilePicture})}),Object(_.jsx)("div",{className:"align-items-center d-flex justify-content-between",style:{flex:"2"},children:Object(_.jsx)("span",{style:{color:"#050505",marginLeft:"8px",fontWeight:"500"},children:t.username})})]})})},ve=function(e){var t=e.socket,s=e.setChatBoxShow,i=e.setUserConnect,n=(Object(f.d)(v),Object(f.d)(y)),r=Object(f.d)(A),l=Object(c.useState)([]),o=Object(a.a)(l,2),d=o[0],j=o[1],b=Object(c.useState)([]),x=Object(a.a)(b,2),u=x[0],h=x[1];return Object(c.useEffect)((function(){var e=Object(p.a)(n),t=[];r.forEach((function(t){e=e.filter((function(e){return e._id!=t.id}))})),r.forEach((function(e){var s=n.find((function(t){return t._id==e.id}));s&&t.push(s)})),j([].concat(t)),h(Object(p.a)(e))}),[n.length,r.length,n,r]),console.log(d),Object(_.jsxs)("div",{className:"rightbar col-xl-3 col-xxl-3 col-lg-3 d-flex flex-column align-items-start",style:{overflowX:"hidden"},children:[Object(_.jsx)("div",{className:"ml-3 d-flex",style:{width:"100%"},children:Object(_.jsx)("span",{style:{fontWeight:"600",color:"#65676b"},children:"G\u1ee3i \xfd k\u1ebft b\u1ea1n"})}),Object(_.jsx)("ul",{className:"mt-2 scroll-custom",style:{width:"100%",height:"300px",overflowY:"scroll",overflowX:"hidden"},children:u&&u.length>0&&u.map((function(e){return Object(_.jsx)(ge,{socket:t,user:e,setChatBoxShow:s,setUserConnect:i},e._id)}))}),Object(_.jsx)("div",{className:"ml-3 d-flex",style:{width:"100%"},children:Object(_.jsx)("span",{style:{fontWeight:"600",color:"#65676b"},children:"B\u1ea1n B\xe8"})}),Object(_.jsx)("ul",{className:"mt-2 scroll-custom",style:{width:"100%",maxHeight:"500px",overflowY:"scroll",overflowX:"hidden"},children:d&&d.length>0&&d.map((function(e){return Object(_.jsx)(ye,{socket:t,user:e,setChatBoxShow:s,setUserConnect:i},e._id)}))})]})},we=(s(194),s.p+"static/media/lvSDckxyoU5.6902af1c.ogg"),Ne=function(e){var t=e.setoverlay,s=e.setUserConnect,c=e.setChatBoxShow,i=(e.chatBoxShow,e.userConnect,e.socket),n=e.setShowAlertCreated,r=e.setShowAlert;return Object(_.jsx)(_.Fragment,{children:Object(_.jsx)("div",{className:"container-fluid",children:Object(_.jsxs)("div",{className:"row",children:[Object(_.jsx)(me,{}),Object(_.jsx)(he,{setShowAlertCreated:n,setShowAlert:r,setoverlay:t,socket:i}),Object(_.jsx)(ve,{setChatBoxShow:c,setUserConnect:s,socket:i})]})})})},ke=s(68),Ce=function(e){var t=e.socket,s=le().getPostsById,i=Object(c.useRef)(),n=Object(o.h)(),r=Object(c.useState)(null),l=Object(a.a)(r,2),d=l[0],j=l[1];Object(f.d)(E);Object(c.useEffect)(Object(u.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s(n.id);case 2:t=e.sent,j(t);case 4:case"end":return e.stop()}}),e)}))),[n.id]);var b=Object(o.g)();return Object(_.jsx)("div",{className:"container-fluid",style:{position:"fixed",top:"0",left:"0",bottom:"0",overflow:"hidden"},children:Object(_.jsxs)("div",{className:"row",children:[Object(_.jsxs)("div",{className:"col-xl-8 col-xxl-8 col-lg-8",style:{margin:"0",padding:"0"},children:[Object(_.jsxs)("div",{style:{width:"100%",height:"100%",backgroundColor:"#000"},children:[d&&""!=d.img?Object(_.jsx)("img",{className:"d-inline-block",style:{objectFit:"contain",maxHeight:"100vh"},src:d&&d.img}):null,d&&""!=d.video?Object(_.jsx)("video",{ref:i,controls:!0,autoPlay:!0,style:{maxHeight:"100vh",width:"100%"},children:Object(_.jsx)("source",{src:d.video})}):null]}),Object(_.jsx)("div",{style:{position:"absolute",top:"80px",left:"30px",color:"#fff",cursor:"pointer"},onClick:function(){return b.goBack()},children:Object(_.jsx)(P.a,{})})]}),Object(_.jsx)("div",{className:"col-xl-4 col-xxl-4 col-lg-4 mb-5",style:{margin:"0",padding:"0",maxHeight:"100vh",overflowY:"scroll"},children:Object(_.jsx)("div",{style:{width:"100%",height:"100%",marginTop:"50px"},children:d&&Object(_.jsx)(ue,{item:d,view:!0,media:!1,socket:t})})})]})})},Ae=function(e){var t=e.setoverlay,s=e.socket,i=e.setShowAlertCreated,n=e.setShowAlert,r=e.setChatBoxShow,l=e.setUserConnect,d=Object(c.useState)(""),b=Object(a.a)(d,2),h=b[0],O=b[1],g=Object(c.useState)(""),y=Object(a.a)(g,2),w=y[0],N=y[1],S=Object(f.d)(A),L=Object(f.d)(k),W=Object(f.d)(C),I=Object(c.useState)({avatar:null,cover:null}),B=Object(a.a)(I,2),M=B[0],H=B[1],T=R().getUserById,F=le().getPostsByIdUser,z=Object(c.useState)(null),U=Object(a.a)(z,2),P=U[0],E=U[1],D=Object(f.d)(v),q=Object(o.h)(),V=Object(c.useState)([]),Y=Object(a.a)(V,2),G=Y[0],K=Y[1],X=Object(c.useState)(!1),J=Object(a.a)(X,2),Q=J[0],$=J[1];Object(c.useEffect)(Object(u.a)(x.a.mark((function e(){var t,s;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F(q.id);case 2:return(t=e.sent)&&K(Object(p.a)(t)),e.next=6,T(q.id);case 6:(s=e.sent)&&(E(s),O(s.profilePicture),N(s.coverPicture));case 8:case"end":return e.stop()}}),e)}))),[q.id]);var ee=function(e){e.preventDefault();var t=e.target.files[0];t&&O(URL.createObjectURL(t)),H(Object(j.a)(Object(j.a)({},M),{},{avatar:t}))},te=function(e){e.preventDefault();var t=e.target.files[0];t&&N(URL.createObjectURL(t)),H(Object(j.a)(Object(j.a)({},M),{},{cover:t}))},se=function(){var e=Object(u.a)(x.a.mark((function e(t){var s;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(s=new FormData).append("id",P._id),null!=M.avatar&&s.append("avatar",M.avatar),null!=M.cover&&s.append("cover",M.cover),e.next=6,m.a.put("/api/user/updateprofile",s,{headers:{"content-type":"multipart/form-data"}});case 6:window.location.reload();case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ce=function(){s.emit("client-send-request-addFriend",{userSendId:D.user._id,toUserId:P._id,createAt:new Date(Date.now())})},ie=function(e){s.emit("accept-friend",{userSendId:P._id,toUserId:D.user._id,createAt:new Date(Date.now()),type:e})};return Object(_.jsxs)("div",{className:"container",children:[Object(_.jsxs)("div",{style:{maxWidth:"940px",margin:"0 auto",position:"relative"},children:[Object(_.jsx)("img",{style:{width:"100%",height:"350px",objectFit:"cover",borderBottomLeftRadius:"8px",borderBottomRightRadius:"8px"},src:w}),Object(_.jsxs)("div",{style:{position:"absolute",left:"40%",bottom:"-16px"},children:[Object(_.jsx)("img",{style:{width:"168px",borderRadius:"50%",border:"4px solid #fff",objectFit:"cover",height:"168px"},src:h}),D&&D.user&&D.user._id===q.id&&Object(_.jsx)("label",{className:"cursor-pointer",htmlFor:"input_img_avatar-21",children:Object(_.jsx)("span",{className:"d-block",style:{width:"40px",height:"40px",borderRadius:"50%",backgroundColor:"#f0f2f5",fontSize:"20px",zIndex:"2",position:"absolute",right:"10px",bottom:"12px"},children:Object(_.jsx)("i",{style:{margin:"auto",fontSize:"26px"},class:"bx bxs-camera mt-2"})})})]}),D&&D.user&&D.user._id===q.id&&Object(_.jsx)("label",{className:"cursor-pointer",style:{display:"block",position:"absolute",bottom:"20px",right:"20px"},htmlFor:"input_img_bia-21",children:Object(_.jsxs)("span",{className:"p-1 pl-2 pr-2 d-flex align-items-center",style:{color:"rgb(0.5,0.5,0.5)",fontWeight:"600",display:"inline-block",backgroundColor:"#fff",borderRadius:"6px",lineHeight:"1.8"},children:[Object(_.jsx)("i",{style:{fontSize:"20px"},class:"bx bxs-camera mr-1"}),"ch\u1ec9nh s\u1eeda \u1ea3nh b\xeca"]})}),Object(_.jsx)("input",{type:"file",id:"input_img_bia-21",className:"hidden-element input_img_bia",onChange:te,onInput:te}),Object(_.jsx)("input",{type:"file",id:"input_img_avatar-21",className:"hidden-element input_img_avatar",onChange:ee,onInput:ee})]}),Object(_.jsxs)("div",{className:"mt-4",style:{maxWidth:"940px",margin:"auto"},children:[P&&P.profilePicture!=h||P&&P.coverPicture!=w?Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("button",{onClick:se,style:{outline:"none",border:"none",borderRadius:"4px",backgroundColor:"#1877f2",color:"#fff"},children:"L\u01b0u thay \u0111\u1ed5i"}),Object(_.jsx)("button",{onClick:function(){O(P.profilePicture),N(P.coverPicture),H({cover:null,avatar:null})},className:"ml-4",style:{outline:"none",border:"none",borderRadius:"4px",backgroundColor:"#959fa0",color:"#fff"},children:"H\u1ee7y"})]}):null,Object(_.jsxs)("div",{className:"container d-flex flex-column ",style:{width:"100%"},children:[Object(_.jsx)("h1",{style:{fontWeight:"700","col\u1ecf":"#000",flex:"1"},children:P&&P.username}),Object(_.jsx)("hr",{style:{margin:"8px 16px",backgroundColor:"#dadde1",color:"#dadde1"}}),D.user&&P&&D.user._id!=P._id?Object(_.jsxs)(_.Fragment,{children:[Object(_.jsxs)("div",{className:"d-flex justify-content-end align-items-center",children:[Object(_.jsx)("div",{className:"mr-3 cursor-pointer",style:{width:"90px",backgroundColor:"#e4e6eb",borderRadius:"8px",height:"40px"},onClick:function(){r(!0),l(P)},children:Object(_.jsx)("svg",{viewBox:"0 0 28 28",alt:"",class:"a8c37x1j ms05siws hwsy1cff b7h9ocf4 fzdkajry",height:"20",width:"20",children:Object(_.jsx)("path",{d:"M14 2.042c6.76 0 12 4.952 12 11.64S20.76 25.322 14 25.322a13.091 13.091 0 0 1-3.474-.461.956 .956 0 0 0-.641.047L7.5 25.959a.961.961 0 0 1-1.348-.849l-.065-2.134a.957.957 0 0 0-.322-.684A11.389 11.389 0 0 1 2 13.682C2 6.994 7.24 2.042 14 2.042ZM6.794 17.086a.57.57 0 0 0 .827.758l3.786-2.874a.722.722 0 0 1 .868 0l2.8 2.1a1.8 1.8 0 0 0 2.6-.481l3.525-5.592a.57.57 0 0 0-.827-.758l-3.786 2.874a.722.722 0 0 1-.868 0l-2.8-2.1a1.8 1.8 0 0 0-2.6.481Z"})})}),Object(_.jsxs)("div",{className:"mr-3 cursor-pointer",style:{position:"relative",backgroundColor:"#e4e6eb",borderRadius:"8px",height:"40px",minWidth:"90px"},children:[P&&S.some((function(e){return e.id==P._id}))?Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("div",{onClick:function(){return $(!Q)},style:{height:"100%",width:"100"},children:Object(_.jsx)("img",{className:"mt-2",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAY1BMVEVMaXEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABiKx0LAAAAIHRSTlMA/fn+7PNP7jc/xgJy+sU+8aem8uZpsHZ79viMH+1/bgNPkcYAAABqSURBVHhebcpHEsMgFETBByIIZccc5v6ndP2FCxbu3QTMuN8O55Fq10m3B5VMppqtmAGeF8xRBiihYE53yX9KSJYN1/h6wxpW/uqH7CSXlx7D5PUzYbsqb59FjQHIamSgU8MBUS0gqYoJvi0ADzYPBpyyAAAAAElFTkSuQmCC"})}),Q?Object(_.jsx)("div",{style:{top:"45px",position:"absolute",width:"250px",height:"200px",backgroundColor:"#fff",zIndex:"2",boxShadow:"0 12px 28px rgba(0,0,0,0.5)",borderRadius:"8px"},children:Object(_.jsxs)("span",{onClick:function(){s.emit("remove-friend",{userRemove:D.user._id,toUser:P._id,createAt:new Date(Date.now())})},className:"d-flex align-items-center p-2 ",children:[Object(_.jsx)("i",{style:{fontSize:"40px"},class:"bx bx-user-x"}),Object(_.jsx)("p",{style:{fontWeight:"600",margin:"0"},children:"H\u1ee7y k\u1ebft b\u1ea1n"})]})}):null]}):null,P&&L.some((function(e){return e.id==P._id}))?Object(_.jsxs)("span",{className:"mr-3 d-flex",style:{fontSize:"30px",backgroundColor:"#e7f3ff",color:"#1877f2",height:"40px",borderRadius:"8px",width:"100%"},children:[Object(_.jsx)("i",{class:"bx bxs-user-minus"}),Object(_.jsx)("p",{style:{fontSize:"16px",margin:"0",color:"#1877f2",fontWeight:"500"},onClick:ce,children:"H\u1ee7y l\u1eddi m\u1eddi"})]}):null,P&&W.some((function(e){return e.id==P._id}))?Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("span",{className:"d-inline-block mr-3 cursor-pointer ",style:{height:"40px",lineHeight:"40px",width:"60px",backgroundColor:"#e4e6eb",color:"#000",fontWeight:"500",borderRadius:"8px"},onClick:function(){return ie(!1)},children:"x\xf3a"}),Object(_.jsx)("span",{className:"d-inline-block cursor-pointer",style:{height:"40px",width:"90px",lineHeight:"40px",backgroundColor:"#2d88ff",color:"#fff",fontWeight:"500",borderRadius:"8px"},onClick:function(){return ie(!0)},children:"x\xe1c nh\u1eadn"})]}):null,!P||L.some((function(e){return e.id==P._id}))||W.some((function(e){return e.id==P._id}))||S.some((function(e){return e.id==P._id}))?null:Object(_.jsxs)("span",{className:"d-flex align-items-center",style:{fontSize:"30px",backgroundColor:"#e7f3ff",color:"#1877f2",height:"40px",borderRadius:"8px",width:"100%"},children:[Object(_.jsx)("i",{class:"bx bxs-user-plus"}),Object(_.jsx)("p",{style:{fontSize:"16px",margin:"0",color:"#1877f2",fontWeight:"500"},onClick:ce,children:"Th\xeam b\u1ea1n"})]})]})]}),Object(_.jsx)("hr",{style:{margin:"8px 16px",backgroundColor:"#dadde1",color:"#dadde1"}})]}):null,D&&D.user&&D.user._id===q.id&&Object(_.jsx)(Z,{socket:s,setShowAlert:n,setShowAlertCreated:i,setoverlay:t}),G.length>0?G.map((function(e){return Object(_.jsx)(ue,{media:!0,item:e,socket:s},e._id)})):Object(_.jsx)("h3",{className:"mt-4",children:"\u0110\u0103ng b\xe0i vi\u1ebft"})]})]})]})},Se=(s(195),function(e){e.setoverlay;var t=Object(f.c)(E),s=Object(a.a)(t,2),c=s[0],i=(s[1],c.filter((function(e){return""!==e.video})));return console.log(i),Object(_.jsx)("div",{className:"container-fluid col-xl-6 col-xxl-6 col-lg-6 Feed",children:i.length>0?i.map((function(e){return Object(_.jsx)(ue,{item:e,media:!0})})):Object(_.jsx)("h1",{children:"danh sach video trong"})})}),Re=(s(196),function(e){var t=e.item,s=e.setChatBoxShow,i=e.setUserConnect,n=e.userCurrent,r=t.members.find((function(e){return e.user_id!==n.user_id})),l=Object(c.useState)(!1),o=Object(a.a)(l,2),d=o[0],b=o[1];Object(c.useEffect)((function(){var e=t.content.length>0&&0==t.content[t.content.length-1].seen&&t.content[t.content.length-1].userSend!=n._id;b(e)}),[t._id]);return console.log(d),Object(_.jsx)("li",{onClick:function(){s(!0),i(Object(j.a)({},r))},children:Object(_.jsxs)("div",{className:d?"d-flex m-2 p-1 fasjg":"d-flex m-2 p-1",children:[Object(_.jsx)("img",{style:{width:"60px",height:"60px",float:"left",borderRadius:"50%"},src:r&&r.profilePicture}),Object(_.jsxs)("div",{className:"d-flex flex-column align-items-start justify-content-center ",children:[Object(_.jsx)("span",{style:{color:"#050505",marginLeft:"8px",fontWeight:"600"},children:r&&r.username}),Object(_.jsx)("span",{className:"ml-2",style:{fontSize:"0.9375rem",lineHeight:"1.333",color:"rgb(0.5,0.5,0.5)"},children:t&&t.content&&t.content&&t.content.length>0?t.content[t.content.length-1].content:""})]})]})})}),Le=function(e){var t=e.item,s=e.socket,i=Object(c.useState)(null),n=Object(a.a)(i,2),r=n[0],l=n[1],d=Object(c.useState)(null),b=Object(a.a)(d,2),p=b[0],h=b[1],m=Object(c.useState)(null),O=Object(a.a)(m,2),g=O[0],y=O[1],w=Object(f.d)(E),N=R().getUserById,k=Object(o.g)(),C=Object(f.d)(v);return Object(c.useEffect)(Object(u.a)(x.a.mark((function e(){var s,c,i;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N(t.userId);case 2:return s=e.sent,l(s),e.next=6,N(t.userPostId);case 6:c=e.sent,h(c),i=w.find((function(e){return e.postId==t.idpost})),y(i);case 10:case"end":return e.stop()}}),e)}))),[t.userId,t.userPostId,t.type,t.idpost]),Object(_.jsx)("li",{onClick:function(){r&&p&&(s.emit("client-send-seen-notify",Object(j.a)(Object(j.a)({},t),{},{userCurrent:C.user._id})),k.push("/posts/views/".concat(g&&g._id)))},children:Object(_.jsxs)("div",{className:t.isRead?"d-flex m-2 p-1":"d-flex m-2 p-1 fasjg",children:[Object(_.jsx)("img",{style:{width:"60px",height:"60px",float:"left",borderRadius:"50%"},src:r&&r.profilePicture}),Object(_.jsx)("div",{className:"d-flex flex-column align-items-start justify-content-center ",children:Object(_.jsx)("span",{style:{color:"#050505",marginLeft:"8px",fontWeight:"600",wordBreak:"break-word",textAlign:"start"},children:"".concat(r&&r.username," c\u0169ng \u0111\xe3 ").concat(t.type," v\u1ec1 b\xe0i bi\u1ebft c\u1ee7a ").concat(p&&p.username)})})]})})},_e=function(e){var t=e.user,s=e.socket,c=Object(f.d)(v),i=function(e){s.emit("accept-friend",{userSendId:t._id,toUserId:c.user._id,createAt:new Date(Date.now()),type:e})};return Object(_.jsxs)("li",{style:{width:"100%"},className:"mt-2 p-4 d-flex justify-content-between",children:[Object(_.jsxs)("div",{style:{borderRadius:"8px"},className:"d-flex item-user cursor-pointer align-items-center",children:[Object(_.jsx)("div",{className:t.isOnline?"list-user-das align-items-center  list-user-das-rightbar d-flex list-user-das-rightbar-online":"list-user-das align-items-center  list-user-das-rightbar d-flex",style:{cursor:"pointer",borderRadius:"12px"},children:Object(_.jsx)("img",{style:{width:"40px",height:"40px",borderRadius:"50%"},src:t.profilePicture})}),Object(_.jsx)("span",{style:{color:"#050505",marginLeft:"8px",fontWeight:"500"},children:t.username})]}),Object(_.jsxs)("div",{className:"d-flex align-items-center ml-4",children:[Object(_.jsx)("span",{className:"d-inline-block mr-3 cursor-pointer ",style:{height:"40px",lineHeight:"40px",width:"60px",backgroundColor:"#e4e6eb",color:"#000",fontWeight:"500",borderRadius:"8px"},onClick:function(){return i(!1)},children:"x\xf3a"}),Object(_.jsx)("span",{className:"d-inline-block cursor-pointer",style:{height:"40px",width:"90px",lineHeight:"40px",backgroundColor:"#2d88ff",color:"#fff",fontWeight:"500",borderRadius:"8px"},onClick:function(){return i(!0)},children:"x\xe1c nh\u1eadn"})]})]})};function We(e){var t=e.setChatBoxShow,s=e.setUserConnect,i=e.socket,n=R(),r=n.logout,o=n.getListMess,b=Object(f.d)(v),x=Object(j.a)({},b).user,u=Object(c.useState)(0),h=Object(a.a)(u,2),m=h[0],O=h[1],w=Object(c.useState)(0),S=Object(a.a)(w,2),L=S[0],W=S[1],I=Object(c.useState)([]),B=Object(a.a)(I,2),M=B[0],H=B[1],T=Object(c.useRef)(),F=Object(f.c)(g),z=Object(a.a)(F,2),U=z[0],P=z[1],E=Object(f.c)(y),D=Object(a.a)(E,2),q=D[0],Z=D[1],V=Object(f.c)(N),Y=Object(a.a)(V,2),G=Y[0],K=Y[1],X=Object(f.c)(C),J=Object(a.a)(X,2),Q=J[0],$=J[1],ee=Object(f.c)(k),te=Object(a.a)(ee,2),se=(te[0],te[1]),ce=Object(f.c)(A),ie=Object(a.a)(ce,2),ne=(ie[0],ie[1]);Object(c.useEffect)((function(){var e=0;U.forEach((function(t){t&&t.content.length>0&&!1===t.content[t.content.length-1].seen&&t.content[t.content.length-1].userSend!==x._id&&e++})),O(e)}),[U.length,U,x._id]),Object(c.useEffect)((function(){var e=0;G.forEach((function(t){t.isRead||e++})),W(e)}),[G.length,G,x._id]);var re=Object(c.useState)(!1),ae=Object(a.a)(re,2),le=ae[0],oe=ae[1],de=Object(c.useState)(!1),je=Object(a.a)(de,2),be=je[0],xe=je[1],pe=Object(c.useState)(!1),ue=Object(a.a)(pe,2),he=ue[0],me=ue[1],fe=Object(c.useState)(!1),Oe=Object(a.a)(fe,2),ge=Oe[0],ye=Oe[1],ve=(Object({NODE_ENV:"production",PUBLIC_URL:"/goc-hoc-tap",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_PUBLIC_FOLDER,Object(c.useState)({home:!1,page:!1,watch:!1,group:!1})),Ne=Object(a.a)(ve,2),ke=Ne[0],Ce=Ne[1],Ae=function(e){1!=ke[e]&&Ce(Object(d.a)({home:!1,page:!1,watch:!1,group:!1},e,!0))};return Object(c.useEffect)((function(){var e=[];Q.forEach((function(t){var s=q.find((function(e){return e._id==t.id}));s&&e.push(s)})),H([].concat(e))}),[q.length,Q.length,q,Q]),Object(c.useEffect)((function(){x&&o(x.user_id)}),[]),Object(c.useEffect)((function(){i.emit("joinpages",x._id),i.emit("getlistuser",x._id),i.emit("getlistMess",x._id),i.on("ListUser",(function(e){var t=e.filter((function(e){return e._id!=x._id}));Z(t)}))}),[]),Object(c.useEffect)((function(){i.on("sever-send-list-mess",(function(e){P(Object(p.a)(e))})),i.on("send-notify-seen-client",(function(e){e&&e.length>0&&P(Object(p.a)(e))})),i.on("server-send-seen-notify",(function(e){K(Object(p.a)(e))})),i.on("server-send-notify-comment",(function(e){K(Object(p.a)(e)),T.current.play()})),i.on("sever-send-notify-mess",(function(e){T.current&&T.current.play(),P(Object(p.a)(e))})),i.on("server-send-notify-add-friend",(function(e){$(Object(p.a)(e))})),i.on("server-send-request-add-friend",(function(e){console.log(e),se(Object(p.a)(e))})),i.on("server-send-list-friend",(function(e){console.log(e),ne(Object(p.a)(e))})),i.on("server-send-list-friend-user-sent",(function(e){ne(Object(p.a)(e))}))}),[]),Object(_.jsxs)("div",{className:"topbarContainer container-fluid",children:[Object(_.jsxs)("div",{className:"topbarLeft",children:[Object(_.jsx)(l.b,{style:{margin:"10px 0 7px 10px"},"aria-label":"Facebook",to:"/",role:"link",tabindex:"0",children:Object(_.jsxs)("svg",{viewBox:"0 0 36 36",fill:"url(#jsc_c_3)",height:"40",width:"40",children:[Object(_.jsx)("defs",{children:Object(_.jsxs)("linearGradient",{x1:"50%",x2:"50%",y1:"97.0782153%",y2:"0%",id:"jsc_c_3",children:[Object(_.jsx)("stop",{offset:"0%","stop-color":"#0062E0"}),Object(_.jsx)("stop",{offset:"100%","stop-color":"#19AFFF"})]})}),Object(_.jsx)("path",{d:"M15 35.8C6.5 34.3 0 26.9 0 18 0 8.1 8.1 0 18 0s18 8.1 18 18c0 8.9-6.5 16.3-15 17.8l-1-.8h-4l-1 .8z"}),Object(_.jsx)("path",{class:"p361ku9c",d:"M25 23l.8-5H21v-3.5c0-1.4.5-2.5 2.7-2.5H26V7.4c-1.3-.2-2.7-.4-4-.4-4.1 0-7 2.5-7 7v4h-4.5v5H15v12.7c1 .2 2 .3 3 .3s2-.1 3-.3V23h4z"})]})}),Object(_.jsxs)("div",{className:"searchInput-wraper",children:[Object(_.jsx)("label",{htmlFor:"searchInput",children:Object(_.jsx)("i",{style:{fontSize:"22px",color:"rgba(0,0,0,0.6)",position:"relative",top:"4px",left:"8px"},class:"bx bx-search"})}),Object(_.jsx)("input",{type:"search",className:"searchInput d-none d-inline ",id:"searchInput",placeholder:"T\xecm ki\u1ebfm tr\xean facebook"})]})]}),Object(_.jsx)("div",{}),Object(_.jsxs)("ul",{className:"topbarCenter",children:[Object(_.jsx)(l.c,{style:{display:"inline-block",width:"100px"},to:"/",isActive:function(e,t){e&&e.isExact&&Ae("home")},activeClassName:"topbarCenter-item-active",children:Object(_.jsx)("li",{className:"topbarCenter-item",style:{display:"inline-block"},children:ke.home?Object(_.jsx)("svg",{style:{fill:"#1877f2"},viewBox:"0 0 28 28",class:"",height:"28",width:"28",children:Object(_.jsx)("path",{d:"M25.825 12.29C25.824 12.289 25.823 12.288 25.821 12.286L15.027 2.937C14.752 2.675 14.392 2.527 13.989 2.521 13.608 2.527 13.248 2.675 13.001 2.912L2.175 12.29C1.756 12.658 1.629 13.245 1.868 13.759 2.079 14.215 2.567 14.479 3.069 14.479L5 14.479 5 23.729C5 24.695 5.784 25.479 6.75 25.479L11 25.479C11.552 25.479 12 25.031 12 24.479L12 18.309C12 18.126 12.148 17.979 12.33 17.979L15.67 17.979C15.852 17.979 16 18.126 16 18.309L16 24.479C16 25.031 16.448 25.479 17 25.479L21.25 25.479C22.217 25.479 23 24.695 23 23.729L23 14.479 24.931 14.479C25.433 14.479 25.921 14.215 26.132 13.759 26.371 13.245 26.244 12.658 25.825 12.29"})}):Object(_.jsx)("svg",{style:{fill:"#8c8d90"},viewBox:"0 0 28 28",class:"",height:"28",width:"28",children:Object(_.jsx)("path",{d:"M17.5 23.979 21.25 23.979C21.386 23.979 21.5 23.864 21.5 23.729L21.5 13.979C21.5 13.427 21.949 12.979 22.5 12.979L24.33 12.979 14.017 4.046 3.672 12.979 5.5 12.979C6.052 12.979 6.5 13.427 6.5 13.979L6.5 23.729C6.5 23.864 6.615 23.979 6.75 23.979L10.5 23.979 10.5 17.729C10.5 17.04 11.061 16.479 11.75 16.479L16.25 16.479C16.939 16.479 17.5 17.04 17.5 17.729L17.5 23.979ZM21.25 25.479 17 25.479C16.448 25.479 16 25.031 16 24.479L16 18.327C16 18.135 15.844 17.979 15.652 17.979L12.348 17.979C12.156 17.979 12 18.135 12 18.327L12 24.479C12 25.031 11.552 25.479 11 25.479L6.75 25.479C5.784 25.479 5 24.695 5 23.729L5 14.479 3.069 14.479C2.567 14.479 2.079 14.215 1.868 13.759 1.63 13.245 1.757 12.658 2.175 12.29L13.001 2.912C13.248 2.675 13.608 2.527 13.989 2.521 14.392 2.527 14.753 2.675 15.027 2.937L25.821 12.286C25.823 12.288 25.824 12.289 25.825 12.29 26.244 12.658 26.371 13.245 26.133 13.759 25.921 14.215 25.434 14.479 24.931 14.479L23 14.479 23 23.729C23 24.695 22.217 25.479 21.25 25.479Z"})})})}),Object(_.jsx)(l.c,{to:"/pages",isActive:function(e,t){e&&e.isExact&&Ae("page")},children:Object(_.jsx)("li",{className:"topbarCenter-item",style:{display:"inline-block",width:"100px"},children:ke.page?Object(_.jsx)("svg",{style:{fill:"#1877f2"},viewBox:"0 0 28 28",class:"",height:"28",width:"28",children:Object(_.jsx)("path",{d:"M5 3.25v-1a.75.75 0 011.5 0v1a.75.75 0 01-1.5 0zm1.5 12.001a.75.75 0 01-1.5 0V8.749a.75.75 0 011.5 0v6.502zM5.75 20a.75.75 0 01.75.75v6.5a.75.75 0 01-1.5 0v-6.5a.75.75 0 01.75-.75zM24.857 5.328a.745.745 0 01.105.674L22.99 12l1.973 6.015a.75.75 0 01-.712.984H4.75a.75.75 0 010-1.5H7.5A.5.5 0 008 17V7.018a.5.5 0 00-.5-.5H4.75a.75.75 0 01-.003-1.5l4-.018c.078.01.11.006.164.018h15.34a.75.75 0 01.606.31z"})}):Object(_.jsx)("svg",{style:{fill:"#8c8d90"},viewBox:"0 0 28 28",class:"",height:"28",width:"28",children:Object(_.jsx)("path",{d:"M5.75 4A.75.75 0 015 3.25v-1a.75.75 0 011.5 0v1a.75.75 0 01-.75.75zm.75 11.251a.75.75 0 01-1.5 0V8.749a.75.75 0 011.5 0v6.502zM5.75 28a.75.75 0 01-.75-.75v-6.5a.75.75 0 011.5 0v6.5a.75.75 0 01-.75.75zm15.737-16.234L23.214 6.5H9.5v11h13.715l-1.728-5.266a.749.749 0 010-.468zM4.75 5h19.5a.75.75 0 01.713.986l-1.974 6.006 1.974 6.023a.75.75 0 01-.713.985H4.75a.75.75 0 010-1.502L8 17.5v-11H4.75a.749.749 0 110-1.5z"})})})}),Object(_.jsx)(l.c,{to:"/watch",isActive:function(e,t){e&&e.isExact&&Ae("watch")},children:Object(_.jsx)("li",{className:"topbarCenter-item",style:{display:"inline-block",width:"100px"},children:ke.watch?Object(_.jsx)("svg",{style:{fill:"#1877f2"},viewBox:"0 0 28 28",class:"",height:"28",width:"28",children:Object(_.jsx)("path",{d:"M8.75 25.25C8.336 25.25 8 24.914 8 24.5 8 24.086 8.336 23.75 8.75 23.75L19.25 23.75C19.664 23.75 20 24.086 20 24.5 20 24.914 19.664 25.25 19.25 25.25L8.75 25.25ZM17.164 12.846 12.055 15.923C11.591 16.202 11 15.869 11 15.327L11 9.172C11 8.631 11.591 8.297 12.055 8.576L17.164 11.654C17.612 11.924 17.612 12.575 17.164 12.846M21.75 2.75 6.25 2.75C4.182 2.75 2.5 4.432 2.5 6.5L2.5 18C2.5 20.068 4.182 21.75 6.25 21.75L21.75 21.75C23.818 21.75 25.5 20.068 25.5 18L25.5 6.5C25.5 4.432 23.818 2.75 21.75 2.75"})}):Object(_.jsx)("svg",{style:{fill:"#8c8d90"},viewBox:"0 0 28 28",class:"",height:"28",width:"28",children:Object(_.jsx)("path",{d:"M8.75 25.25C8.336 25.25 8 24.914 8 24.5 8 24.086 8.336 23.75 8.75 23.75L19.25 23.75C19.664 23.75 20 24.086 20 24.5 20 24.914 19.664 25.25 19.25 25.25L8.75 25.25ZM17.163 12.846 12.055 15.923C11.591 16.202 11 15.869 11 15.327L11 9.172C11 8.631 11.591 8.297 12.055 8.576L17.163 11.654C17.612 11.924 17.612 12.575 17.163 12.846ZM21.75 20.25C22.992 20.25 24 19.242 24 18L24 6.5C24 5.258 22.992 4.25 21.75 4.25L6.25 4.25C5.008 4.25 4 5.258 4 6.5L4 18C4 19.242 5.008 20.25 6.25 20.25L21.75 20.25ZM21.75 21.75 6.25 21.75C4.179 21.75 2.5 20.071 2.5 18L2.5 6.5C2.5 4.429 4.179 2.75 6.25 2.75L21.75 2.75C23.821 2.75 25.5 4.429 25.5 6.5L25.5 18C25.5 20.071 23.821 21.75 21.75 21.75Z"})})})}),Object(_.jsx)(l.c,{to:"/groups",isActive:function(e,t){e&&e.isExact&&Ae("group")},children:Object(_.jsx)("li",{className:"topbarCenter-item",style:{display:"inline-block",width:"100px"},children:ke.group?Object(_.jsx)("svg",{style:{fill:"#1877f2"},viewBox:"0 0 28 28",class:"",height:"28",width:"28",children:Object(_.jsx)("path",{d:"M21.877 19 21.364 19C21.139 19 20.971 18.802 20.996 18.577 21.01 18.461 21.017 18.342 21.017 18.221L21.017 17.724C21.017 16.568 20.667 15.491 20.066 14.591 19.899 14.338 20.067 14 20.369 14L20.521 14C22.274 14 23.5 15.492 23.5 17.327 23.5 18.25 22.772 19 21.877 19ZM17.75 10.75C17.75 9.384 18.535 8.5 19.75 8.5 20.965 8.5 21.75 9.384 21.75 10.75 21.75 11.991 20.853 13 19.75 13 18.647 13 17.75 11.991 17.75 10.75ZM19.5 18.221C19.5 19.202 18.682 20 17.678 20L10.323 20C9.317 20 8.5 19.202 8.5 18.221L8.5 17.724C8.5 15.395 10.442 13.5 12.828 13.5L15.173 13.5C17.559 13.5 19.5 15.395 19.5 17.724L19.5 18.221ZM6.25 10.75C6.25 9.384 7.035 8.5 8.25 8.5 9.465 8.5 10.25 9.384 10.25 10.75 10.25 11.991 9.353 13 8.25 13 7.147 13 6.25 11.991 6.25 10.75ZM7.934 14.591C7.334 15.491 6.983 16.568 6.983 17.724L6.983 18.221C6.983 18.342 6.991 18.461 7.004 18.577 7.03 18.802 6.861 19 6.637 19L6.123 19C5.228 19 4.5 18.25 4.5 17.327 4.5 15.492 5.727 14 7.479 14L7.631 14C7.933 14 8.102 14.338 7.934 14.591ZM14 6C15.697 6 16.75 7.15 16.75 9 16.75 10.655 15.517 12 14 12 12.484 12 11.25 10.655 11.25 9 11.25 7.15 12.304 6 14 6ZM14 1C6.832 1 1 6.832 1 14 1 21.169 6.832 27 14 27 21.169 27 27 21.169 27 14 27 6.832 21.169 1 14 1Z"})}):Object(_.jsx)("svg",{style:{fill:"#8c8d90"},viewBox:"0 0 28 28",class:"",height:"28",width:"28",children:Object(_.jsx)("path",{d:"M25.5 14C25.5 7.649 20.351 2.5 14 2.5 7.649 2.5 2.5 7.649 2.5 14 2.5 20.351 7.649 25.5 14 25.5 20.351 25.5 25.5 20.351 25.5 14ZM27 14C27 21.18 21.18 27 14 27 6.82 27 1 21.18 1 14 1 6.82 6.82 1 14 1 21.18 1 27 6.82 27 14ZM7.479 14 7.631 14C7.933 14 8.102 14.338 7.934 14.591 7.334 15.491 6.983 16.568 6.983 17.724L6.983 18.221C6.983 18.342 6.99 18.461 7.004 18.578 7.03 18.802 6.862 19 6.637 19L6.123 19C5.228 19 4.5 18.25 4.5 17.327 4.5 15.492 5.727 14 7.479 14ZM20.521 14C22.274 14 23.5 15.492 23.5 17.327 23.5 18.25 22.772 19 21.878 19L21.364 19C21.139 19 20.97 18.802 20.997 18.578 21.01 18.461 21.017 18.342 21.017 18.221L21.017 17.724C21.017 16.568 20.667 15.491 20.067 14.591 19.899 14.338 20.067 14 20.369 14L20.521 14ZM8.25 13C7.147 13 6.25 11.991 6.25 10.75 6.25 9.384 7.035 8.5 8.25 8.5 9.465 8.5 10.25 9.384 10.25 10.75 10.25 11.991 9.353 13 8.25 13ZM19.75 13C18.647 13 17.75 11.991 17.75 10.75 17.75 9.384 18.535 8.5 19.75 8.5 20.965 8.5 21.75 9.384 21.75 10.75 21.75 11.991 20.853 13 19.75 13ZM15.172 13.5C17.558 13.5 19.5 15.395 19.5 17.724L19.5 18.221C19.5 19.202 18.683 20 17.677 20L10.323 20C9.317 20 8.5 19.202 8.5 18.221L8.5 17.724C8.5 15.395 10.441 13.5 12.828 13.5L15.172 13.5ZM16.75 9C16.75 10.655 15.517 12 14 12 12.484 12 11.25 10.655 11.25 9 11.25 7.15 12.304 6 14 6 15.697 6 16.75 7.15 16.75 9Z"})})})}),Object(_.jsx)(l.c,{to:"/helo",children:Object(_.jsx)("li",{className:"topbarCenter-item d-block d-xl-none d-lg-none d-xxl-none",style:{display:"inline-block",width:"100px"},children:Object(_.jsx)("svg",{viewBox:"0 0 28 28",height:"28",width:"28",children:Object(_.jsx)("path",{d:"M23.5 4a1.5 1.5 0 110 3h-19a1.5 1.5 0 110-3h19zm0 18a1.5 1.5 0 110 3h-19a1.5 1.5 0 110-3h19zm0-9a1.5 1.5 0 110 3h-19a1.5 1.5 0 110-3h19z"})})})})]}),Object(_.jsxs)("div",{className:"topbarRight",children:[Object(_.jsx)(l.b,{to:"/profile/".concat(x&&x._id),children:Object(_.jsxs)("div",{className:"topbarRight-hover ",style:{display:"flex",cursor:"pointer",borderRadius:"12px"},children:[Object(_.jsx)("img",{style:{width:"28px",height:"28px",borderRadius:"50%"},src:x&&x.profilePicture}),Object(_.jsx)("span",{style:{color:"#121212",marginLeft:"4px",fontWeight:"400",whiteSpace:"nowrap"},children:x&&x.username})]})}),Object(_.jsxs)("div",{className:"topbarRight-hover bg-item-nav",style:{width:"40px",height:"40px",borderRadius:"20px",cursor:"pointer"},onClick:function(){oe(!1),xe(!1),me(!1),ye(!ge)},children:[Q.length>0?Object(_.jsx)("div",{style:{top:"0",textAlign:"center",position:"absolute",width:"20px",height:"20px",borderRadius:"50%",backgroundColor:"red"},children:Object(_.jsx)("span",{style:{color:"white",display:"inline-block",position:"relative",top:"-2px"},children:Q.length})}):null,Object(_.jsx)("i",{"data-visualcompletion":"css-img",class:"hu5pjgll"}),ge?Object(_.jsx)("div",{className:"option-down",style:{position:"relative",width:"350px",height:"400px",backgroundColor:"#ffffff",right:"250px",top:"15px",border:"1px solid #e4e6eb",borderRadius:"6px"},children:Object(_.jsx)("ul",{className:"",children:M.length>0&&M.map((function(e){return Object(_.jsx)(_e,{user:e,socket:i},e._id)}))})}):null]}),Object(_.jsxs)("div",{className:"topbarRight-hover bg-item-nav",style:{width:"40px",height:"40px",borderRadius:"20px",cursor:"pointer"},onClick:function(){ye(!1),oe(!1),me(!1),xe(!be)},children:[m>0?Object(_.jsx)("div",{style:{top:"0",textAlign:"center",position:"absolute",width:"20px",height:"20px",borderRadius:"50%",backgroundColor:"red"},children:Object(_.jsx)("span",{style:{color:"white",display:"inline-block",position:"relative",top:"-2px"},children:m})}):null,Object(_.jsx)("svg",{viewBox:"0 0 28 28",alt:"",class:"a8c37x1j ms05siws hwsy1cff b7h9ocf4 fzdkajry",height:"20",width:"20",children:Object(_.jsx)("path",{d:"M14 2.042c6.76 0 12 4.952 12 11.64S20.76 25.322 14 25.322a13.091 13.091 0 0 1-3.474-.461.956 .956 0 0 0-.641.047L7.5 25.959a.961.961 0 0 1-1.348-.849l-.065-2.134a.957.957 0 0 0-.322-.684A11.389 11.389 0 0 1 2 13.682C2 6.994 7.24 2.042 14 2.042ZM6.794 17.086a.57.57 0 0 0 .827.758l3.786-2.874a.722.722 0 0 1 .868 0l2.8 2.1a1.8 1.8 0 0 0 2.6-.481l3.525-5.592a.57.57 0 0 0-.827-.758l-3.786 2.874a.722.722 0 0 1-.868 0l-2.8-2.1a1.8 1.8 0 0 0-2.6.481Z"})}),be?Object(_.jsx)("div",{className:"option-down",style:{position:"relative",width:"350px",height:"400px",backgroundColor:"#ffffff",right:"250px",top:"15px",border:"1px solid #e4e6eb",borderRadius:"6px"},children:Object(_.jsx)("ul",{className:"",children:U.length>0&&U.map((function(e){return Object(_.jsx)(Re,{item:e,setChatBoxShow:t,setUserConnect:s,userCurrent:x},e._id)}))})}):null]}),Object(_.jsxs)("div",{className:"topbarRight-hover bg-item-nav",style:{width:"40px",height:"40px",borderRadius:"20px",cursor:"pointer"},onClick:function(){ye(!1),oe(!1),xe(!1),me(!he)},children:[L>0?Object(_.jsx)("div",{style:{top:"0",textAlign:"center",position:"absolute",width:"20px",height:"20px",borderRadius:"50%",backgroundColor:"red"},children:Object(_.jsx)("span",{style:{color:"white",display:"inline-block",position:"relative",top:"-2px"},children:L})}):null,Object(_.jsx)("svg",{viewBox:"0 0 28 28",alt:"",class:"a8c37x1j ms05siws hwsy1cff b7h9ocf4 fzdkajry",height:"20",width:"20",children:Object(_.jsx)("path",{d:"M7.847 23.488C9.207 23.488 11.443 23.363 14.467 22.806 13.944 24.228 12.581 25.247 10.98 25.247 9.649 25.247 8.483 24.542 7.825 23.488L7.847 23.488ZM24.923 15.73C25.17 17.002 24.278 18.127 22.27 19.076 21.17 19.595 18.724 20.583 14.684 21.369 11.568 21.974 9.285 22.113 7.848 22.113 7.421 22.113 7.068 22.101 6.79 22.085 4.574 21.958 3.324 21.248 3.077 19.976 2.702 18.049 3.295 17.305 4.278 16.073L4.537 15.748C5.2 14.907 5.459 14.081 5.035 11.902 4.086 7.022 6.284 3.687 11.064 2.753 15.846 1.83 19.134 4.096 20.083 8.977 20.506 11.156 21.056 11.824 21.986 12.355L21.986 12.356 22.348 12.561C23.72 13.335 24.548 13.802 24.923 15.73Z"})}),he?Object(_.jsx)("div",{className:"option-down",style:{position:"relative",width:"350px",height:"400px",backgroundColor:"#ffffff",right:"250px",top:"15px",border:"1px solid #e4e6eb",borderRadius:"6px"},children:Object(_.jsx)("ul",{className:"",style:{overflowY:"scroll",maxHeight:"400px"},children:G.length>0&&G.map((function(e){return Object(_.jsx)(Le,{item:e,socket:i},e._id)}))})}):null]}),Object(_.jsxs)("div",{className:"topbarRight-hover bg-item-nav",style:{width:"40px",height:"40px",borderRadius:"20px",marginRight:"12px",cursor:"pointer"},onClick:function(){oe(!le),ye(!1),xe(!1),me(!1)},children:[Object(_.jsx)("i",{className:"lzf7d6o1"}),le?Object(_.jsxs)("div",{className:"option-down",style:{position:"relative",width:"350px",height:"400px",backgroundColor:"#ffffff",right:"312px",top:"10px",border:"1px solid #e4e6eb",borderRadius:"6px"},children:[Object(_.jsx)("div",{className:"d-flex m-2 p-1",children:Object(_.jsxs)(l.b,{to:"profile/".concat(x._id),children:[Object(_.jsx)("img",{style:{width:"60px",height:"60px",float:"left",borderRadius:"50%"},src:x.profilePicture}),Object(_.jsxs)("div",{className:"d-flex flex-column align-items-start ",children:[Object(_.jsx)("span",{style:{color:"#050505",marginLeft:"4px",fontWeight:"600"},children:x.username}),Object(_.jsx)("span",{style:{color:"#121212",marginLeft:"4px",fontWeight:"400",whiteSpace:"nowrap"},children:"Xem trang c\xe1 nh\xe2n c\u1ee7a b\u1ea1n"})]})]})}),Object(_.jsx)("hr",{style:{margin:"8px 16px",backgroundColor:"#dadde1",color:"#dadde1"}}),Object(_.jsxs)("div",{className:"m-2 p-1 d-flex align-items-center",style:{boxSizing:"border-box"},onClick:r,children:[Object(_.jsx)("i",{class:"bx bxs-log-out bx-rotate-180 d-inline-block",style:{color:"#000",fontSize:"36px",float:"left"}}),Object(_.jsx)("span",{style:{color:"#050505",marginLeft:"4px",fontWeight:"600"},children:"\u0110\u0103ng xu\u1ea5t"})]})]}):null]}),Object(_.jsx)("audio",{className:"hidden-element",controls:!0,preload:"none",ref:T,children:Object(_.jsx)("source",{src:we,type:"audio/ogg"})})]})]})}var Ie=function(){return Object(_.jsxs)("div",{className:"d-flex flex-column justify-content-center ",style:{width:"500px",margin:"auto",border:"1px solid rgba(0.5,0.5,0.5,0.2)",marginTop:"180px"},children:[Object(_.jsx)("div",{className:"mt-3",children:Object(_.jsx)("i",{style:{fontSize:"60px"},class:"bx bxs-lock-alt"})}),Object(_.jsx)("h2",{className:"d-inline-block",children:"Forgot password?"}),Object(_.jsx)("span",{className:"d-inline-block ",children:"you can reset your password here."}),Object(_.jsxs)("div",{className:"d-flex justify-content-center mt-5",children:[Object(_.jsx)("span",{className:"d-inline-block",style:{border:"1px solid rgba(0.5,0.5,0.5,0.2)",width:"40px",height:"40px"},children:Object(_.jsx)("i",{style:{fontSize:"20px"},class:"bx bx-envelope mt-2"})}),Object(_.jsx)("input",{type:"email",style:{outline:"none",border:"1px solid rgba(0.5,0.5,0.5,0.2)",width:"300px"},placeholder:"email address"})]}),Object(_.jsx)("div",{children:Object(_.jsx)("button",{className:"mt-5 mb-5",style:{height:"40px",color:"#fff",backgroundColor:"#2d88ff",width:"300px",borderRadius:"6px",outline:"none",border:"none"},children:"Send My Password"})})]})},Be=s.p+"static/media/bg-story.e7c78528.png",Me=function(e){var t=e.setShowAlertCreated,s=e.setShowAlert,i=e.socket,n=R().createStory,r=Object(f.d)(v),l=Object(c.useState)(null),d=Object(a.a)(l,2),j=d[0],b=d[1],p=Object(o.g)(),h=function(){var e=Object(u.a)(x.a.mark((function e(){var c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(c=new FormData).append("file",j),c.append("id",r.user._id),s(!0),e.next=6,n(c);case 6:s(!1),t(!0),setTimeout((function(){return t(!1)}),2e3),b(null),i.emit("up-story");case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(_.jsx)("div",{style:{position:"fixed",bottom:"0",left:"0",right:"0",top:"0"},children:Object(_.jsxs)("div",{className:"row",style:{height:"100%"},children:[Object(_.jsxs)("div",{className:"col-xl-4 col-xxl-4 col-lg-4 pt-5 mt-1",style:{backgroundColor:"#fff",height:"100%",position:"relative"},children:[Object(_.jsx)("div",{className:"mt-4 ml-4 d-flex cursor-pointer",onClick:function(){return p.goBack()},children:Object(_.jsx)(P.a,{})}),Object(_.jsx)("div",{className:"d-flex ml-3",children:Object(_.jsx)("h2",{className:"mt-3",style:{fontWeight:"700"},children:"Tin c\u1ee7a b\u1ea1n"})}),Object(_.jsxs)("div",{className:"d-flex align-items-center ml-3 mt-4",children:[Object(_.jsx)("img",{style:{width:"60px",height:"60px",float:"left",borderRadius:"50%"},src:r.user&&r.user.profilePicture}),Object(_.jsx)("span",{style:{color:"#050505",marginLeft:"4px",fontWeight:"600",fontSize:"20px"},children:r.user&&r.user.username})]}),Object(_.jsx)("hr",{className:"mt-5",style:{margin:"8px 16px",backgroundColor:"#dadde1",color:"#dadde1"}}),j?Object(_.jsxs)("div",{className:"d-flex justify-content-center pl-5 pr-5 mt-5",children:[Object(_.jsx)("button",{className:"mr-3",style:{outline:"none",flex:"1",backgroundColor:"rgb(228 230 235)",borderRadius:"6px",border:"none",fontWeight:"600",height:"40px"},onClick:function(){return b(null)},children:"B\u1ecf"}),Object(_.jsx)("button",{className:"ml-3",style:{outline:"none",flex:"2",backgroundColor:"rgb(24 119 242)",borderRadius:"6px",border:"none",fontWeight:"600",color:"#fff",height:"40px"},onClick:h,children:"chia s\u1ebb l\xean tin"})]}):null]}),Object(_.jsx)("div",{className:"col-xl-8 col-xxl-8 col-lg-8 pt-5 mt-1",style:{height:"100%"},children:Object(_.jsx)("div",{className:"mt-5 d-flex flex-column justify-content-center ",style:{position:"relative",margin:"auto",width:"218px",height:"330px",backgroundImage:"url(".concat(Be,")"),backgroundPosition:"0 0",backgroundSize:"auto"},children:j?Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("img",{src:URL.createObjectURL(j),style:{width:"100%",objectFit:"container"}}),Object(_.jsxs)("div",{style:{color:"#fff",position:"absolute",top:"10px",right:"10px"},onClick:function(){return b(null)},children:[Object(_.jsx)(P.a,{})," "]})]}):Object(_.jsxs)("label",{htmlFor:"in-put-file-story",className:"d-flex flex-column justify-content-center cursor-pointer",children:[Object(_.jsx)("div",{style:{width:"60px",height:"60px",borderRadius:"50%",backgroundColor:"#fff",margin:"auto"},children:Object(_.jsx)("span",{style:{fontSize:"40px"},children:Object(_.jsx)("i",{class:"bx bx-image-add"})})}),Object(_.jsx)("span",{style:{fontWeight:"500",color:"#fff"},children:"T\u1ea1o tin \u1ea3nh"}),Object(_.jsx)("input",{onInput:function(e){e.target.files[0].type.includes("image")?e.target.files[0]?b(e.target.files[0]):b(null):(alert("b\u1ea1n ph\u1ea3i ch\u1ecdn file d\u1ea1ng image"),b(null))},type:"file",id:"in-put-file-story",accept:"image/*",className:"hidden-element"})]})})})]})})};var He=function(){var e=Object(c.useRef)(),t=Object(c.useState)(!1),s=Object(a.a)(t,2),i=s[0],n=s[1],r=Object(c.useState)(!1),d=Object(a.a)(r,2),j=d[0],b=d[1],x=Object(f.c)(v),p=Object(a.a)(x,2),u=p[0],h=(p[1],Object(c.useState)(!1)),m=Object(a.a)(h,2),O=m[0],g=m[1],y=R(),w=y.loadUser,N=(y.getListMess,y.getStorys),k=le().getPosts;Object(c.useEffect)((function(){e.current=q()("http://localhost:5000"),u.user&&e.current.emit("joinpages",u.user._id),w(),k(),N()}),[]),Object(c.useEffect)((function(){e.current.on("create-new-post",(function(){k()})),e.current.on("up-story-new",(function(){console.log("update"),N()}))}),[]);var C=Object(c.useState)(null),A=Object(a.a)(C,2),S=A[0],L=A[1],B=Object(c.useState)(!1),M=Object(a.a)(B,2),H=M[0],T=M[1];return Object(_.jsx)(l.a,{children:Object(_.jsxs)("div",{className:"App",style:{position:"relative"},children:[Object(_.jsx)("div",{className:O?"postoverlay":"",onClick:function(){return g(!1)}}),u.user?Object(_.jsx)(We,{socket:e.current,setUserConnect:L,setChatBoxShow:T}):null,Object(_.jsxs)(o.d,{children:[Object(_.jsx)(o.b,{path:"/login",children:Object(_.jsx)(W,{})}),Object(_.jsx)(o.b,{path:"/forgot",children:Object(_.jsx)(Ie,{})}),Object(_.jsx)(o.b,{path:"/register",children:Object(_.jsx)(I,{})}),Object(_.jsx)(o.b,{path:"/watch",children:u.user?Object(_.jsx)(Se,{}):Object(_.jsx)(o.a,{to:"/login"})}),Object(_.jsx)(o.b,{path:"/posts/views/:id",children:u.user?Object(_.jsx)(Ce,{socket:e.current}):Object(_.jsx)(o.a,{to:"/login"})}),Object(_.jsx)(o.b,{path:"/stories/create",children:u.user?Object(_.jsx)(Me,{socket:e.current,setShowAlertCreated:b,setShowAlert:n}):Object(_.jsx)(o.a,{to:"/login"})}),Object(_.jsx)(o.b,{path:"/posts/video/:id",children:u.user?Object(_.jsx)(Ce,{socket:e.current}):Object(_.jsx)(o.a,{to:"/login"})}),Object(_.jsx)(o.b,{path:"/profile/:id",children:u.user?Object(_.jsx)(Ae,{setShowAlertCreated:b,setShowAlert:n,setoverlay:g,socket:e.current,setUserConnect:L,setChatBoxShow:T}):Object(_.jsx)(o.a,{to:"/login"})}),Object(_.jsx)(o.b,{path:"/",children:u.user?Object(_.jsx)(Ne,{setShowAlertCreated:b,setShowAlert:n,socket:e.current,setUserConnect:L,userConnect:S,chatBoxShow:H,setChatBoxShow:T,setoverlay:g}):Object(_.jsx)(o.a,{to:"/login"})})]}),H?Object(_.jsx)(Oe,{currentUser:u.user,socket:e.current,setChatBoxShow:T,userConnect:S}):null,Object(_.jsx)("div",{style:{position:"fixed",bottom:"20px",left:"50px"},children:Object(_.jsx)(ke.a,{onClose:function(){return n(!1)},show:i,closeLabel:"Close alert",dismissible:!0,variant:"dark",children:"b\xe0i vi\u1ebft \u0111ang \u0111\u01b0\u1ee3c x\xe9t duy\u1ec7t"})}),Object(_.jsx)("div",{style:{position:"fixed",bottom:"20px",left:"50px"},children:Object(_.jsx)(ke.a,{onClose:function(){return b(!1)},show:j,closeLabel:"Close alert",dismissible:!0,variant:"success",children:"b\xe0i vi\u1ebft \u0111\xe3 \u0111\u01b0\u1ee3c \u0111\u0103ng"})})]})})},Te=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,214)).then((function(t){var s=t.getCLS,c=t.getFID,i=t.getFCP,n=t.getLCP,r=t.getTTFB;s(e),c(e),i(e),n(e),r(e)}))};r.a.render(Object(_.jsx)(i.a.StrictMode,{children:Object(_.jsx)(f.a,{children:Object(_.jsx)(He,{})})}),document.getElementById("root")),Te()},80:function(e,t,s){}},[[197,1,2]]]);
//# sourceMappingURL=main.a4119526.chunk.js.map